<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.554">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Paul Sölder, Julius Fenn">

<title>Analyze CAM data on micro, meso, macro level for part II of basal attributes article</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="02_analyses_CAMs_files/libs/clipboard/clipboard.min.js"></script>
<script src="02_analyses_CAMs_files/libs/quarto-html/quarto.js"></script>
<script src="02_analyses_CAMs_files/libs/quarto-html/popper.min.js"></script>
<script src="02_analyses_CAMs_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="02_analyses_CAMs_files/libs/quarto-html/anchor.min.js"></script>
<link href="02_analyses_CAMs_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="02_analyses_CAMs_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="02_analyses_CAMs_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="02_analyses_CAMs_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="02_analyses_CAMs_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<link href="02_analyses_CAMs_files/libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">

<script src="02_analyses_CAMs_files/libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>

<link href="02_analyses_CAMs_files/libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">

<script src="02_analyses_CAMs_files/libs/datatables-binding-0.33/datatables.js"></script>

<script src="02_analyses_CAMs_files/libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>

<link href="02_analyses_CAMs_files/libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">

<link href="02_analyses_CAMs_files/libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">

<script src="02_analyses_CAMs_files/libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script>

<link href="02_analyses_CAMs_files/libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">

<script src="02_analyses_CAMs_files/libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>



</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#global-variables" id="toc-global-variables" class="nav-link active" data-scroll-target="#global-variables"><span class="header-section-number">1</span> global variables</a></li>
  <li><a href="#notes" id="toc-notes" class="nav-link" data-scroll-target="#notes"><span class="header-section-number">2</span> Notes</a></li>
  <li><a href="#load-data-files" id="toc-load-data-files" class="nav-link" data-scroll-target="#load-data-files"><span class="header-section-number">3</span> load data files</a></li>
  <li><a href="#describe-sample" id="toc-describe-sample" class="nav-link" data-scroll-target="#describe-sample"><span class="header-section-number">4</span> Describe sample</a></li>
  <li><a href="#micro-level" id="toc-micro-level" class="nav-link" data-scroll-target="#micro-level"><span class="header-section-number">5</span> Micro level</a>
  <ul class="collapse">
  <li><a href="#distributions-valence-degree-local-clustering-coefficient" id="toc-distributions-valence-degree-local-clustering-coefficient" class="nav-link" data-scroll-target="#distributions-valence-degree-local-clustering-coefficient"><span class="header-section-number">5.1</span> Distributions (valence, degree, local clustering coefficient)</a></li>
  <li><a href="#check-bimodal-pattern-of-local-clustering-coefficient" id="toc-check-bimodal-pattern-of-local-clustering-coefficient" class="nav-link" data-scroll-target="#check-bimodal-pattern-of-local-clustering-coefficient"><span class="header-section-number">5.2</span> check bimodal pattern of local clustering coefficient</a></li>
  <li><a href="#correlation-of-distributions-micro-level" id="toc-correlation-of-distributions-micro-level" class="nav-link" data-scroll-target="#correlation-of-distributions-micro-level"><span class="header-section-number">5.3</span> correlation of distributions micro level</a></li>
  </ul></li>
  <li><a href="#meso-level" id="toc-meso-level" class="nav-link" data-scroll-target="#meso-level"><span class="header-section-number">6</span> Meso level</a>
  <ul class="collapse">
  <li><a href="#leiden-algorithm" id="toc-leiden-algorithm" class="nav-link" data-scroll-target="#leiden-algorithm"><span class="header-section-number">6.1</span> Leiden algorithm</a>
  <ul class="collapse">
  <li><a href="#save-final-parition-solution" id="toc-save-final-parition-solution" class="nav-link" data-scroll-target="#save-final-parition-solution"><span class="header-section-number">6.1.1</span> save final parition solution</a></li>
  <li><a href="#leiden-algorithm-on-aggregated-multi-edge-graph-with-modularitypruning-gibson-and-mucha-2022" id="toc-leiden-algorithm-on-aggregated-multi-edge-graph-with-modularitypruning-gibson-and-mucha-2022" class="nav-link" data-scroll-target="#leiden-algorithm-on-aggregated-multi-edge-graph-with-modularitypruning-gibson-and-mucha-2022"><span class="header-section-number">6.1.2</span> Leiden algorithm on aggregated multi-edge graph with ModularityPruning (Gibson and Mucha, 2022)</a></li>
  <li><a href="#leiden-algorithm-on-multilayer-graph-with-modularitypruning-gibson-and-mucha-2022" id="toc-leiden-algorithm-on-multilayer-graph-with-modularitypruning-gibson-and-mucha-2022" class="nav-link" data-scroll-target="#leiden-algorithm-on-multilayer-graph-with-modularitypruning-gibson-and-mucha-2022"><span class="header-section-number">6.1.3</span> Leiden algorithm on multilayer graph with ModularityPruning (Gibson and Mucha, 2022)</a></li>
  <li><a href="#multilayerextraction-algorithm-wilson-et-al.-2017" id="toc-multilayerextraction-algorithm-wilson-et-al.-2017" class="nav-link" data-scroll-target="#multilayerextraction-algorithm-wilson-et-al.-2017"><span class="header-section-number">6.1.4</span> MultilayerExtraction algorithm (Wilson et al., 2017)</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#macro-level" id="toc-macro-level" class="nav-link" data-scroll-target="#macro-level"><span class="header-section-number">7</span> Macro level</a>
  <ul class="collapse">
  <li><a href="#plot-aggregated-cam" id="toc-plot-aggregated-cam" class="nav-link" data-scroll-target="#plot-aggregated-cam"><span class="header-section-number">7.1</span> plot aggregated CAM</a></li>
  <li><a href="#hierachical-cluster-analysis" id="toc-hierachical-cluster-analysis" class="nav-link" data-scroll-target="#hierachical-cluster-analysis"><span class="header-section-number">7.2</span> hierachical cluster analysis</a></li>
  <li><a href="#latent-profile-analysis" id="toc-latent-profile-analysis" class="nav-link" data-scroll-target="#latent-profile-analysis"><span class="header-section-number">7.3</span> Latent profile analysis</a></li>
  </ul></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Analyze CAM data on micro, meso, macro level for part II of basal attributes article</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Paul Sölder, Julius Fenn </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="global-variables" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> global variables</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="do">### Macro level</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>runLPA <span class="ot">=</span> <span class="cn">FALSE</span> <span class="co"># takes quite long</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="notes" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Notes</h1>
<p>In graph theory and network analysis, the terms “micro,” “meso” and “macro” refer to different scales or levels of analysis within a network. Each of these levels focuses on different types of elements and interactions within the network, allowing for a varied understanding of the structure and dynamics of the network as a whole.</p>
</section>
<section id="load-data-files" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> load data files</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># sets the directory of location of this script as the current directory</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="co"># setwd(dirname(rstudioapi::getSourceEditorContext()$path))</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="do">### load packages</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(pacman)</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="fu">p_load</span>(<span class="st">'tidyverse'</span>, <span class="st">'jsonlite'</span>, <span class="st">'magrittr'</span>, <span class="st">'xlsx'</span>,</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>       <span class="st">'stargazer'</span>, <span class="st">'psych'</span>, <span class="st">'jtools'</span>, <span class="st">'DT'</span>, <span class="st">'ggstatsplot'</span>,</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>       <span class="st">'lavaan'</span>,</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>       <span class="st">'regsem'</span>, <span class="st">'MplusAutomation'</span>, <span class="st">'igraph'</span>, <span class="st">'shiny'</span>, <span class="st">'ggplot2'</span>, <span class="st">'tidyLPA'</span>, <span class="st">'MultilayerExtraction'</span>,</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>       <span class="st">'Matrix'</span>, <span class="st">'igraph'</span>, <span class="st">'foreach'</span>, <span class="st">'doParallel'</span>, <span class="st">'parallel'</span>, <span class="st">'R.matlab'</span>,</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>       <span class="st">'reticulate'</span>,</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>       <span class="st">'RColorBrewer'</span>)</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a><span class="co"># To install MultilayerExtraction (https://github.com/jdwilson4/MultilayerExtraction):</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages("devtools")</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a><span class="co"># library(devtools, quietly = TRUE)</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a><span class="co"># #install and load MultilayerExtraction</span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a><span class="co"># devtools::install_github('jdwilson4/multilayer_extraction')</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(MultilayerExtraction, <span class="at">quietly =</span> <span class="cn">TRUE</span>)</span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a><span class="co"># reticulate::py_config()</span></span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a><span class="co"># reticulate::py_module_available("pycairo")</span></span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a><span class="co"># reticulate::py_module_available("cairocffi")</span></span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span>reticulate<span class="sc">::</span><span class="fu">py_module_available</span>(<span class="st">"igraph"</span>)){</span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">py_install</span>(<span class="st">"igraph"</span>) <span class="co"># pip install python-igraph</span></span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span>reticulate<span class="sc">::</span><span class="fu">py_module_available</span>(<span class="st">"modularitypruning"</span>)){</span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">py_install</span>(<span class="st">"modularitypruning"</span>) <span class="co"># pip install modularitypruning</span></span>
<span id="cb2-36"><a href="#cb2-36" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-37"><a href="#cb2-37" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span>reticulate<span class="sc">::</span><span class="fu">py_module_available</span>(<span class="st">"matplotlib"</span>)){</span>
<span id="cb2-38"><a href="#cb2-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">py_install</span>(<span class="st">"matplotlib"</span>)</span>
<span id="cb2-39"><a href="#cb2-39" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-40"><a href="#cb2-40" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span>reticulate<span class="sc">::</span><span class="fu">py_module_available</span>(<span class="st">"scipy"</span>)){</span>
<span id="cb2-41"><a href="#cb2-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">py_install</span>(<span class="st">"scipy"</span>)</span>
<span id="cb2-42"><a href="#cb2-42" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-43"><a href="#cb2-43" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span>reticulate<span class="sc">::</span><span class="fu">py_module_available</span>(<span class="st">"leidenalg"</span>)){</span>
<span id="cb2-44"><a href="#cb2-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">py_install</span>(<span class="st">"leidenalg"</span>)</span>
<span id="cb2-45"><a href="#cb2-45" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-46"><a href="#cb2-46" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span>reticulate<span class="sc">::</span><span class="fu">py_module_available</span>(<span class="st">"os"</span>)){</span>
<span id="cb2-47"><a href="#cb2-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">py_install</span>(<span class="st">"os"</span>)</span>
<span id="cb2-48"><a href="#cb2-48" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-49"><a href="#cb2-49" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span>reticulate<span class="sc">::</span><span class="fu">py_module_available</span>(<span class="st">"seed"</span>)){</span>
<span id="cb2-50"><a href="#cb2-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">py_install</span>(<span class="st">"seed"</span>)</span>
<span id="cb2-51"><a href="#cb2-51" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-52"><a href="#cb2-52" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span>reticulate<span class="sc">::</span><span class="fu">py_module_available</span>(<span class="st">"numpy"</span>)){</span>
<span id="cb2-53"><a href="#cb2-53" aria-hidden="true" tabindex="-1"></a>  <span class="fu">py_install</span>(<span class="st">"numpy"</span>)</span>
<span id="cb2-54"><a href="#cb2-54" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-55"><a href="#cb2-55" aria-hidden="true" tabindex="-1"></a><span class="do">## install Python modules</span></span>
<span id="cb2-56"><a href="#cb2-56" aria-hidden="true" tabindex="-1"></a><span class="co"># py_install("matplotlib")</span></span>
<span id="cb2-57"><a href="#cb2-57" aria-hidden="true" tabindex="-1"></a><span class="co"># py_install("scipy")</span></span>
<span id="cb2-58"><a href="#cb2-58" aria-hidden="true" tabindex="-1"></a><span class="co"># py_install("cairocffi")</span></span>
<span id="cb2-59"><a href="#cb2-59" aria-hidden="true" tabindex="-1"></a><span class="co"># py_install("pycairo") # pip install pycairo</span></span>
<span id="cb2-60"><a href="#cb2-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-61"><a href="#cb2-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-62"><a href="#cb2-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-63"><a href="#cb2-63" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">"outputs/01_dataPreperation/final"</span>)</span>
<span id="cb2-64"><a href="#cb2-64" aria-hidden="true" tabindex="-1"></a><span class="do">### load questionnaire</span></span>
<span id="cb2-65"><a href="#cb2-65" aria-hidden="true" tabindex="-1"></a>questionnaire <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="at">file =</span> <span class="st">"questionnaire.rds"</span>)</span>
<span id="cb2-66"><a href="#cb2-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-67"><a href="#cb2-67" aria-hidden="true" tabindex="-1"></a>CAMfiles <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="at">file =</span> <span class="st">"CAMfiles.rds"</span>)</span>
<span id="cb2-68"><a href="#cb2-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-69"><a href="#cb2-69" aria-hidden="true" tabindex="-1"></a>CAMdrawn <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="at">file =</span> <span class="st">"CAMdrawn.rds"</span>)</span>
<span id="cb2-70"><a href="#cb2-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-71"><a href="#cb2-71" aria-hidden="true" tabindex="-1"></a>CAMaggregated <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="at">file =</span> <span class="st">"CAMaggregated.rds"</span>)</span>
<span id="cb2-72"><a href="#cb2-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-73"><a href="#cb2-73" aria-hidden="true" tabindex="-1"></a>networkIndicators <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="at">file =</span> <span class="st">"networkIndicators.rds"</span>)</span>
<span id="cb2-74"><a href="#cb2-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-75"><a href="#cb2-75" aria-hidden="true" tabindex="-1"></a>CAMwordlist <span class="ot">&lt;-</span> xlsx<span class="sc">::</span><span class="fu">read.xlsx2</span>(<span class="at">file =</span> <span class="st">"CAMwordlist.xlsx"</span>, <span class="at">sheetIndex =</span> <span class="dv">1</span>)</span>
<span id="cb2-76"><a href="#cb2-76" aria-hidden="true" tabindex="-1"></a>CAMwordlist<span class="sc">$</span>mean_valence <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(CAMwordlist<span class="sc">$</span>mean_valence)</span>
<span id="cb2-77"><a href="#cb2-77" aria-hidden="true" tabindex="-1"></a>CAMwordlist<span class="sc">$</span>mean_degree <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(CAMwordlist<span class="sc">$</span>mean_degree)</span>
<span id="cb2-78"><a href="#cb2-78" aria-hidden="true" tabindex="-1"></a><span class="co"># CAMwordlist$mean_transitivity &lt;- as.numeric(CAMwordlist$mean_transitivity)</span></span>
<span id="cb2-79"><a href="#cb2-79" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-80"><a href="#cb2-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-81"><a href="#cb2-81" aria-hidden="true" tabindex="-1"></a><span class="do">### load functions</span></span>
<span id="cb2-82"><a href="#cb2-82" aria-hidden="true" tabindex="-1"></a><span class="co"># print(getwd())</span></span>
<span id="cb2-83"><a href="#cb2-83" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">"../../../functions"</span>)</span>
<span id="cb2-84"><a href="#cb2-84" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(<span class="fu">dir</span>())){</span>
<span id="cb2-85"><a href="#cb2-85" aria-hidden="true" tabindex="-1"></a>  <span class="co"># print(dir()[i])</span></span>
<span id="cb2-86"><a href="#cb2-86" aria-hidden="true" tabindex="-1"></a>  <span class="fu">source</span>(<span class="fu">dir</span>()[i], <span class="at">encoding =</span> <span class="st">"utf-8"</span>)</span>
<span id="cb2-87"><a href="#cb2-87" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-88"><a href="#cb2-88" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-89"><a href="#cb2-89" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-90"><a href="#cb2-90" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">"../functions_CAMapp"</span>)</span>
<span id="cb2-91"><a href="#cb2-91" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(<span class="fu">dir</span>())){</span>
<span id="cb2-92"><a href="#cb2-92" aria-hidden="true" tabindex="-1"></a>  <span class="co"># print(dir()[i])</span></span>
<span id="cb2-93"><a href="#cb2-93" aria-hidden="true" tabindex="-1"></a>  <span class="fu">source</span>(<span class="fu">dir</span>()[i], <span class="at">encoding =</span> <span class="st">"utf-8"</span>)</span>
<span id="cb2-94"><a href="#cb2-94" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-95"><a href="#cb2-95" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(i)</span>
<span id="cb2-96"><a href="#cb2-96" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-97"><a href="#cb2-97" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-98"><a href="#cb2-98" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-99"><a href="#cb2-99" aria-hidden="true" tabindex="-1"></a><span class="do">### summary function</span></span>
<span id="cb2-100"><a href="#cb2-100" aria-hidden="true" tabindex="-1"></a>data_summary <span class="ot">&lt;-</span> <span class="cf">function</span>(data, varname, groupnames){</span>
<span id="cb2-101"><a href="#cb2-101" aria-hidden="true" tabindex="-1"></a>  <span class="fu">require</span>(plyr)</span>
<span id="cb2-102"><a href="#cb2-102" aria-hidden="true" tabindex="-1"></a>  summary_func <span class="ot">&lt;-</span> <span class="cf">function</span>(x, col){</span>
<span id="cb2-103"><a href="#cb2-103" aria-hidden="true" tabindex="-1"></a>    <span class="fu">c</span>(<span class="at">mean =</span> <span class="fu">mean</span>(x[[col]], <span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb2-104"><a href="#cb2-104" aria-hidden="true" tabindex="-1"></a>      <span class="at">se =</span> <span class="fu">sd</span>(x[[col]], <span class="at">na.rm=</span><span class="cn">TRUE</span>) <span class="sc">/</span> <span class="fu">sqrt</span>(<span class="fu">length</span>(x[[col]])))</span>
<span id="cb2-105"><a href="#cb2-105" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb2-106"><a href="#cb2-106" aria-hidden="true" tabindex="-1"></a>  data_sum<span class="ot">&lt;-</span><span class="fu">ddply</span>(data, groupnames, <span class="at">.fun=</span>summary_func,</span>
<span id="cb2-107"><a href="#cb2-107" aria-hidden="true" tabindex="-1"></a>                  varname)</span>
<span id="cb2-108"><a href="#cb2-108" aria-hidden="true" tabindex="-1"></a>  data_sum <span class="ot">&lt;-</span> plyr<span class="sc">::</span><span class="fu">rename</span>(data_sum, <span class="fu">c</span>(<span class="st">"mean"</span> <span class="ot">=</span> varname))</span>
<span id="cb2-109"><a href="#cb2-109" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(data_sum)</span>
<span id="cb2-110"><a href="#cb2-110" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="describe-sample" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> Describe sample</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(questionnaire<span class="sc">$</span>socio_sex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
           Female              Male Prefer not to say 
               53               114                 2 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="at">x =</span> <span class="fu">table</span>(questionnaire<span class="sc">$</span>socio_sex) <span class="sc">/</span> <span class="fu">nrow</span>(questionnaire) <span class="sc">*</span> <span class="dv">100</span>, <span class="at">digits =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
           Female              Male Prefer not to say 
            31.36             67.46              1.18 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>psych<span class="sc">::</span><span class="fu">describe</span>(<span class="at">x =</span> questionnaire[, <span class="fu">c</span>(<span class="st">"socio_age"</span>, <span class="st">"total_min_prolific"</span>)])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                   vars   n  mean    sd median trimmed   mad   min   max range
socio_age             1 169 30.34  9.17  28.00   29.22  8.90 18.00 71.00 53.00
total_min_prolific    2 169 35.39 13.16  33.43   33.93 10.25 12.17 91.88 79.72
                   skew kurtosis   se
socio_age          1.30     2.25 0.71
total_min_prolific 1.41     3.09 1.01</code></pre>
</div>
</div>
</section>
<section id="micro-level" class="level1" data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> Micro level</h1>
<ul>
<li>Micro-level analysis focuses on the smallest units of analysis in a network — the individual nodes and the edges between them.</li>
</ul>
<section id="distributions-valence-degree-local-clustering-coefficient" class="level2" data-number="5.1">
<h2 data-number="5.1" class="anchored" data-anchor-id="distributions-valence-degree-local-clustering-coefficient"><span class="header-section-number">5.1</span> Distributions (valence, degree, local clustering coefficient)</h2>
<p>Check distributions of</p>
<ul>
<li>valence</li>
<li>degree</li>
<li>local clustering coefficient (transitivity)</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>valenceData <span class="ot">&lt;-</span> CAMfiles[[<span class="dv">1</span>]]</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>valenceData<span class="sc">$</span>value[valenceData<span class="sc">$</span>value <span class="sc">==</span> <span class="dv">10</span>] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>valenceData<span class="sc">$</span>text <span class="ot">&lt;-</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_replace_all</span>(<span class="at">string =</span> valenceData<span class="sc">$</span>text,</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>                  <span class="at">pattern =</span> <span class="st">"  "</span>,</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>                  <span class="at">replacement =</span> <span class="st">" "</span>)</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>tmp_names <span class="ot">&lt;-</span> <span class="fu">sort</span>(<span class="fu">unique</span>(valenceData<span class="sc">$</span>text))</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(tmp_names)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 33</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>hist1_names <span class="ot">&lt;-</span> tmp_names[<span class="dv">1</span><span class="sc">:</span><span class="dv">16</span>]</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>hist2_names <span class="ot">&lt;-</span> tmp_names[<span class="dv">17</span><span class="sc">:</span><span class="fu">length</span>(tmp_names)]</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="co"># adjust aesthetics of ggplot</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>ggplot_theme <span class="ot">&lt;-</span> <span class="fu">theme</span>(</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">axis.title.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>),</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="dv">10</span>,</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">hjust =</span> <span class="fl">0.5</span>,</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">vjust =</span> <span class="fl">0.5</span>,</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">face =</span> <span class="st">"plain"</span>,</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">colour =</span> <span class="st">"black"</span></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(</span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="dv">12</span>,</span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">face =</span> <span class="st">"plain"</span>,</span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">colour =</span> <span class="st">"black"</span></span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">panel.border =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a>  <span class="at">axis.line =</span> <span class="fu">element_line</span>(<span class="at">colour =</span> <span class="st">"black"</span>),</span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a>  <span class="at">panel.grid.major =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a>  <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a>  <span class="at">panel.background =</span> <span class="fu">element_blank</span>()</span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb11-27"><a href="#cb11-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-28"><a href="#cb11-28" aria-hidden="true" tabindex="-1"></a><span class="do">### plot average valence</span></span>
<span id="cb11-29"><a href="#cb11-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; histograms sorted by mean valence</span></span>
<span id="cb11-30"><a href="#cb11-30" aria-hidden="true" tabindex="-1"></a>hist1_names_mean <span class="ot">&lt;-</span></span>
<span id="cb11-31"><a href="#cb11-31" aria-hidden="true" tabindex="-1"></a>  CAMwordlist[<span class="fu">order</span>(CAMwordlist<span class="sc">$</span>mean_valence, <span class="at">decreasing =</span> <span class="cn">TRUE</span>), <span class="st">"Words"</span>][<span class="dv">1</span><span class="sc">:</span><span class="dv">16</span>]</span>
<span id="cb11-32"><a href="#cb11-32" aria-hidden="true" tabindex="-1"></a>hist2_names_mean <span class="ot">&lt;-</span></span>
<span id="cb11-33"><a href="#cb11-33" aria-hidden="true" tabindex="-1"></a>  CAMwordlist[<span class="fu">order</span>(CAMwordlist<span class="sc">$</span>mean_valence, <span class="at">decreasing =</span> <span class="cn">TRUE</span>), <span class="st">"Words"</span>][<span class="dv">17</span><span class="sc">:</span><span class="dv">33</span>]</span>
<span id="cb11-34"><a href="#cb11-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-35"><a href="#cb11-35" aria-hidden="true" tabindex="-1"></a>valenceData <span class="sc">%&gt;%</span> <span class="fu">filter</span>(text <span class="sc">%in%</span> hist1_names_mean) <span class="sc">%&gt;%</span></span>
<span id="cb11-36"><a href="#cb11-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> value)) <span class="sc">+</span> <span class="fu">geom_histogram</span>() <span class="sc">+</span></span>
<span id="cb11-37"><a href="#cb11-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>( <span class="sc">~</span> <span class="fu">factor</span>(text, <span class="at">levels =</span> hist1_names_mean),</span>
<span id="cb11-38"><a href="#cb11-38" aria-hidden="true" tabindex="-1"></a>              <span class="at">ncol =</span> <span class="dv">4</span>,</span>
<span id="cb11-39"><a href="#cb11-39" aria-hidden="true" tabindex="-1"></a>              <span class="at">nrow =</span> <span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb11-40"><a href="#cb11-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Sorted by avg. valence (first)"</span>) <span class="sc">+</span> ggplot_theme</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="02_analyses_CAMs_files/figure-html/distributions%20micro%20level-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>valenceData <span class="sc">%&gt;%</span> <span class="fu">filter</span>(text <span class="sc">%in%</span> hist2_names_mean) <span class="sc">%&gt;%</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> value)) <span class="sc">+</span> <span class="fu">geom_histogram</span>() <span class="sc">+</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>( <span class="sc">~</span> <span class="fu">factor</span>(text, <span class="at">levels =</span> hist2_names_mean),</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>              <span class="at">ncol =</span> <span class="dv">4</span>,</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>              <span class="at">nrow =</span> <span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Sorted by avg. valence (second)"</span>) <span class="sc">+</span> ggplot_theme</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="02_analyses_CAMs_files/figure-html/distributions%20micro%20level-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="do">### create data for mean degree, transitivity</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>valenceData<span class="sc">$</span>degree <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>valenceData<span class="sc">$</span>transitivity <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">unique</span>(valenceData<span class="sc">$</span>participantCAM)) {</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>  tmp_deg <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">degree</span>(<span class="at">graph =</span> CAMdrawn[[i]], <span class="at">mode =</span> <span class="st">"total"</span>)</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>  tmp_transitivity <span class="ot">&lt;-</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>    igraph<span class="sc">::</span><span class="fu">transitivity</span>(<span class="at">graph =</span> <span class="fu">as.undirected</span>(CAMdrawn[[i]]),</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>                         <span class="at">type =</span> <span class="st">"local"</span>)</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>  counter <span class="ot">=</span> <span class="dv">1</span></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (n <span class="cf">in</span> <span class="fu">V</span>(CAMdrawn[[i]])<span class="sc">$</span>name) {</span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>    valenceData[valenceData<span class="sc">$</span>participantCAM <span class="sc">%in%</span> i <span class="sc">&amp;</span></span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>                  valenceData<span class="sc">$</span>id <span class="sc">==</span> n, <span class="st">"degree"</span>] <span class="ot">&lt;-</span> tmp_deg[counter]</span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>    valenceData[valenceData<span class="sc">$</span>participantCAM <span class="sc">%in%</span> i <span class="sc">&amp;</span></span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a>                  valenceData<span class="sc">$</span>id <span class="sc">==</span> n, <span class="st">"transitivity"</span>] <span class="ot">&lt;-</span></span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a>      tmp_transitivity[counter]</span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a>    counter <span class="ot">=</span> counter <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb15-22"><a href="#cb15-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-23"><a href="#cb15-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-24"><a href="#cb15-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-25"><a href="#cb15-25" aria-hidden="true" tabindex="-1"></a><span class="do">### plot average degree</span></span>
<span id="cb15-26"><a href="#cb15-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; histograms sorted by mean degree</span></span>
<span id="cb15-27"><a href="#cb15-27" aria-hidden="true" tabindex="-1"></a>hist1_names_degree <span class="ot">&lt;-</span></span>
<span id="cb15-28"><a href="#cb15-28" aria-hidden="true" tabindex="-1"></a>  CAMwordlist[<span class="fu">order</span>(CAMwordlist<span class="sc">$</span>mean_degree, <span class="at">decreasing =</span> <span class="cn">TRUE</span>), <span class="st">"Words"</span>][<span class="dv">1</span><span class="sc">:</span><span class="dv">16</span>]</span>
<span id="cb15-29"><a href="#cb15-29" aria-hidden="true" tabindex="-1"></a>hist2_names_degree <span class="ot">&lt;-</span></span>
<span id="cb15-30"><a href="#cb15-30" aria-hidden="true" tabindex="-1"></a>  CAMwordlist[<span class="fu">order</span>(CAMwordlist<span class="sc">$</span>mean_degree, <span class="at">decreasing =</span> <span class="cn">TRUE</span>), <span class="st">"Words"</span>][<span class="dv">17</span><span class="sc">:</span><span class="dv">33</span>]</span>
<span id="cb15-31"><a href="#cb15-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-32"><a href="#cb15-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-33"><a href="#cb15-33" aria-hidden="true" tabindex="-1"></a>valenceData <span class="sc">%&gt;%</span> <span class="fu">filter</span>(text <span class="sc">%in%</span> hist1_names_degree) <span class="sc">%&gt;%</span></span>
<span id="cb15-34"><a href="#cb15-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> degree)) <span class="sc">+</span> <span class="fu">geom_histogram</span>() <span class="sc">+</span></span>
<span id="cb15-35"><a href="#cb15-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>( <span class="sc">~</span> <span class="fu">factor</span>(text, <span class="at">levels =</span> hist1_names_degree),</span>
<span id="cb15-36"><a href="#cb15-36" aria-hidden="true" tabindex="-1"></a>              <span class="at">ncol =</span> <span class="dv">4</span>,</span>
<span id="cb15-37"><a href="#cb15-37" aria-hidden="true" tabindex="-1"></a>              <span class="at">nrow =</span> <span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb15-38"><a href="#cb15-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Sorted by avg. degree (first)"</span>) <span class="sc">+</span> ggplot_theme</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="02_analyses_CAMs_files/figure-html/distributions%20micro%20level-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>valenceData <span class="sc">%&gt;%</span> <span class="fu">filter</span>(text <span class="sc">%in%</span> hist2_names_degree) <span class="sc">%&gt;%</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> degree)) <span class="sc">+</span> <span class="fu">geom_histogram</span>() <span class="sc">+</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>( <span class="sc">~</span> <span class="fu">factor</span>(text, <span class="at">levels =</span> hist2_names_degree),</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>              <span class="at">ncol =</span> <span class="dv">4</span>,</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>              <span class="at">nrow =</span> <span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Sorted by avg. degree (second)"</span>) <span class="sc">+</span> ggplot_theme</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="02_analyses_CAMs_files/figure-html/distributions%20micro%20level-4.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="do">### plot average transitivity</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; histograms sorted by mean transitivity</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ! interpret carefully</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>CAMwordlist<span class="sc">$</span>mean_transitivity <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(CAMwordlist)){</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>  CAMwordlist<span class="sc">$</span>mean_transitivity[i] <span class="ot">&lt;-</span> <span class="fu">mean</span>(<span class="at">x =</span> valenceData<span class="sc">$</span>transitivity[valenceData<span class="sc">$</span>text <span class="sc">==</span> CAMwordlist<span class="sc">$</span>Words[i]], <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>hist1_names_transitivity <span class="ot">&lt;-</span></span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>  CAMwordlist[<span class="fu">order</span>(CAMwordlist<span class="sc">$</span>mean_transitivity, <span class="at">decreasing =</span> <span class="cn">TRUE</span>), <span class="st">"Words"</span>][<span class="dv">1</span><span class="sc">:</span><span class="dv">16</span>]</span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>hist2_names_transitivity <span class="ot">&lt;-</span></span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a>  CAMwordlist[<span class="fu">order</span>(CAMwordlist<span class="sc">$</span>mean_transitivity, <span class="at">decreasing =</span> <span class="cn">TRUE</span>), <span class="st">"Words"</span>][<span class="dv">17</span><span class="sc">:</span><span class="dv">33</span>]</span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a>valenceData <span class="sc">%&gt;%</span> <span class="fu">filter</span>(text <span class="sc">%in%</span> hist1_names_transitivity) <span class="sc">%&gt;%</span></span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> transitivity)) <span class="sc">+</span> <span class="fu">geom_histogram</span>() <span class="sc">+</span></span>
<span id="cb19-20"><a href="#cb19-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>( <span class="sc">~</span> <span class="fu">factor</span>(text, <span class="at">levels =</span> hist1_names_transitivity),</span>
<span id="cb19-21"><a href="#cb19-21" aria-hidden="true" tabindex="-1"></a>              <span class="at">ncol =</span> <span class="dv">4</span>,</span>
<span id="cb19-22"><a href="#cb19-22" aria-hidden="true" tabindex="-1"></a>              <span class="at">nrow =</span> <span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb19-23"><a href="#cb19-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Sorted by avg. local clustering coefficient (first)"</span>) <span class="sc">+</span> ggplot_theme</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 1443 rows containing non-finite outside the scale range
(`stat_bin()`).</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="02_analyses_CAMs_files/figure-html/distributions%20micro%20level-5.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>valenceData <span class="sc">%&gt;%</span> <span class="fu">filter</span>(text <span class="sc">%in%</span> hist2_names_transitivity) <span class="sc">%&gt;%</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> transitivity)) <span class="sc">+</span> <span class="fu">geom_histogram</span>() <span class="sc">+</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>( <span class="sc">~</span> <span class="fu">factor</span>(text, <span class="at">levels =</span> hist2_names_transitivity),</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>              <span class="at">ncol =</span> <span class="dv">4</span>,</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>              <span class="at">nrow =</span> <span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Sorted by avg. local clustering coefficient (second)"</span>) <span class="sc">+</span> ggplot_theme</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 970 rows containing non-finite outside the scale range
(`stat_bin()`).</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="02_analyses_CAMs_files/figure-html/distributions%20micro%20level-6.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="check-bimodal-pattern-of-local-clustering-coefficient" class="level2" data-number="5.2">
<h2 data-number="5.2" class="anchored" data-anchor-id="check-bimodal-pattern-of-local-clustering-coefficient"><span class="header-section-number">5.2</span> check bimodal pattern of local clustering coefficient</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>tmp_transitivity_0 <span class="ot">&lt;-</span> valenceData<span class="sc">$</span>participantCAM[valenceData<span class="sc">$</span>text <span class="sc">==</span> <span class="st">"Insekten ähnlich"</span> <span class="sc">&amp;</span> valenceData<span class="sc">$</span>transitivity <span class="sc">==</span> <span class="dv">0</span> <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(valenceData<span class="sc">$</span>transitivity)]</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>tmp_transitivity_1 <span class="ot">&lt;-</span> valenceData<span class="sc">$</span>participantCAM[valenceData<span class="sc">$</span>text <span class="sc">==</span> <span class="st">"Insekten ähnlich"</span> <span class="sc">&amp;</span> valenceData<span class="sc">$</span>transitivity <span class="sc">==</span> <span class="dv">1</span> <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(valenceData<span class="sc">$</span>transitivity)]</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(CAMdrawn[[tmp_transitivity_0[<span class="dv">1</span>]]], <span class="at">edge.arrow.size =</span> .<span class="dv">7</span>,</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>     <span class="at">layout=</span>layout_nicely, <span class="at">vertex.frame.color=</span><span class="st">"black"</span>, <span class="at">asp =</span> .<span class="dv">5</span>, <span class="at">margin =</span> <span class="sc">-</span><span class="fl">0.1</span>,</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.size =</span> <span class="dv">10</span>, <span class="at">vertex.label.cex =</span> .<span class="dv">9</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="02_analyses_CAMs_files/figure-html/check%20bimodal%20distributions-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(CAMdrawn[[tmp_transitivity_1[<span class="dv">1</span>]]], <span class="at">edge.arrow.size =</span> .<span class="dv">7</span>,</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>     <span class="at">layout=</span>layout_nicely, <span class="at">vertex.frame.color=</span><span class="st">"black"</span>, <span class="at">asp =</span> .<span class="dv">5</span>, <span class="at">margin =</span> <span class="sc">-</span><span class="fl">0.1</span>,</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.size =</span> <span class="dv">10</span>, <span class="at">vertex.label.cex =</span> .<span class="dv">9</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="02_analyses_CAMs_files/figure-html/check%20bimodal%20distributions-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="correlation-of-distributions-micro-level" class="level2" data-number="5.3">
<h2 data-number="5.3" class="anchored" data-anchor-id="correlation-of-distributions-micro-level"><span class="header-section-number">5.3</span> correlation of distributions micro level</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cor.plot</span>(<span class="at">r =</span> <span class="fu">cor</span>(valenceData[, <span class="fu">c</span>(<span class="st">"value"</span>, <span class="st">"degree"</span>, <span class="st">"transitivity"</span>)], <span class="at">use =</span> <span class="st">"pairwise"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="02_analyses_CAMs_files/figure-html/correlation%20of%20distributions%20micro%20level-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="meso-level" class="level1" data-number="6">
<h1 data-number="6"><span class="header-section-number">6</span> Meso level</h1>
<ul>
<li>Meso-level analysis bridges the micro and macro by focusing on groups and communities within the network.</li>
</ul>
<section id="leiden-algorithm" class="level2" data-number="6.1">
<h2 data-number="6.1" class="anchored" data-anchor-id="leiden-algorithm"><span class="header-section-number">6.1</span> Leiden algorithm</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>modules <span class="ot">&lt;-</span> reticulate<span class="sc">::</span><span class="fu">py_module_available</span>(<span class="st">"leidenalg"</span>) <span class="sc">&amp;&amp;</span> reticulate<span class="sc">::</span><span class="fu">py_module_available</span>(<span class="st">"igraph"</span>)</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>modules</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>adjacency_matrix <span class="ot">&lt;-</span> CAMaggregated[[<span class="dv">1</span>]]</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a><span class="fu">diag</span>(adjacency_matrix) <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>graph_object <span class="ot">&lt;-</span></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">graph_from_adjacency_matrix</span>(adjacency_matrix, <span class="at">mode =</span> <span class="st">"undirected"</span>)</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>partition <span class="ot">&lt;-</span> leiden<span class="sc">::</span><span class="fu">leiden</span>(<span class="at">object =</span> graph_object, <span class="at">resolution_parameter =</span> <span class="fl">1.37</span>)</span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">sort</span>(<span class="fu">unique</span>(partition))) {</span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(</span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">"</span><span class="sc">\n</span><span class="st">for partion"</span>,</span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a>    i,</span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">"the following words have been found:</span><span class="sc">\n</span><span class="st">"</span>,</span>
<span id="cb30-15"><a href="#cb30-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rownames</span>(adjacency_matrix)[partition <span class="sc">==</span> i],</span>
<span id="cb30-16"><a href="#cb30-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">"</span><span class="sc">\n</span><span class="st">"</span></span>
<span id="cb30-17"><a href="#cb30-17" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb30-18"><a href="#cb30-18" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
for partion 1 the following words have been found:
 aktive Formänderung durch Umwelteinwirkung reaktionsfähig passive Formänderung durch Umwelteinwirkung autonom passive Verhaltensänderung durch Umwelteinwirkung aktive Verhaltensänderung durch Umwelteinwirkung intelligent multifunktional technologisch 

for partion 2 the following words have been found:
 zuverlässig wartungsfrei selbstheilend widerstandsfähig selbstreparierend haltbar robust langlebig 

for partion 3 the following words have been found:
 Akzeptanz eines neuen Materialsystems wartungsintensiv enthält Kunststoff leicht zerstörbar umweltschädlich 

for partion 4 the following words have been found:
 ökologisch elektronikfrei nachhaltig umweltfreundlich 

for partion 5 the following words have been found:
 Energie   speichernd energieeffizient energieautonom Energie   generierend 

for partion 6 the following words have been found:
 Insekten ähnlich bioinspiriert lebensähnlich </code></pre>
</div>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>node.cols <span class="ot">&lt;-</span> <span class="fu">brewer.pal</span>(<span class="fu">max</span>(<span class="fu">c</span>(<span class="dv">3</span>, partition)), <span class="st">"Pastel1"</span>)[partition]</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a><span class="do">### colour aggregated CAM</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>g <span class="ot">=</span> CAMaggregated[[<span class="dv">2</span>]]</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>g2 <span class="ot">=</span> <span class="fu">simplify</span>(CAMaggregated[[<span class="dv">2</span>]])</span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a><span class="co"># plot(g2, edge.arrow.size=0.01,</span></span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a><span class="co">#      vertex.size=diag(CAMaggregated[[1]]) / max(diag(CAMaggregated[[1]]))*20)</span></span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a><span class="fu">E</span>(g2)<span class="sc">$</span>weight <span class="ot">=</span> <span class="fu">sapply</span>(<span class="fu">E</span>(g2), <span class="cf">function</span>(e) {</span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">length</span>(<span class="fu">all_shortest_paths</span>(g, <span class="at">from=</span><span class="fu">ends</span>(g2, e)[<span class="dv">1</span>], <span class="at">to=</span><span class="fu">ends</span>(g2, e)[<span class="dv">2</span>])<span class="sc">$</span>res) } )</span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a><span class="fu">E</span>(g2)<span class="sc">$</span>weight <span class="ot">=</span> <span class="fu">E</span>(g2)<span class="sc">$</span>weight <span class="sc">*</span> <span class="dv">2</span></span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-14"><a href="#cb32-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-15"><a href="#cb32-15" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>){</span>
<span id="cb32-16"><a href="#cb32-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot</span>(g2, <span class="at">edge.arrow.size =</span> <span class="dv">0</span>,</span>
<span id="cb32-17"><a href="#cb32-17" aria-hidden="true" tabindex="-1"></a>     <span class="at">layout=</span>layout_nicely, <span class="at">vertex.frame.color=</span><span class="st">"black"</span>, <span class="at">asp =</span> .<span class="dv">4</span>, <span class="at">margin =</span> .<span class="dv">1</span>,</span>
<span id="cb32-18"><a href="#cb32-18" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.size=</span><span class="fu">diag</span>(CAMaggregated[[<span class="dv">1</span>]]) <span class="sc">/</span> <span class="fu">max</span>(<span class="fu">diag</span>(CAMaggregated[[<span class="dv">1</span>]]))<span class="sc">*</span><span class="dv">5</span>,</span>
<span id="cb32-19"><a href="#cb32-19" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.label.cex =</span> .<span class="dv">9</span>,</span>
<span id="cb32-20"><a href="#cb32-20" aria-hidden="true" tabindex="-1"></a>     <span class="at">edge.weight=</span><span class="dv">2</span>, <span class="at">edge.width=</span>(<span class="fu">E</span>(g2)<span class="sc">$</span>weight<span class="sc">/</span><span class="dv">35</span>),   <span class="at">vertex.color =</span> node.cols)</span>
<span id="cb32-21"><a href="#cb32-21" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="02_analyses_CAMs_files/figure-html/run%20Leiden%20algorithm-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="02_analyses_CAMs_files/figure-html/run%20Leiden%20algorithm-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="02_analyses_CAMs_files/figure-html/run%20Leiden%20algorithm-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="02_analyses_CAMs_files/figure-html/run%20Leiden%20algorithm-4.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="02_analyses_CAMs_files/figure-html/run%20Leiden%20algorithm-5.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<section id="save-final-parition-solution" class="level3" data-number="6.1.1">
<h3 data-number="6.1.1" class="anchored" data-anchor-id="save-final-parition-solution"><span class="header-section-number">6.1.1</span> save final parition solution</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">"outputs/02_analyses_CAMs/Leiden algorithm aggregated CAM"</span>)</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>h <span class="ot">=</span> <span class="dv">1</span></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">sort</span>(<span class="fu">unique</span>(partition))) {</span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(h <span class="sc">==</span> <span class="dv">1</span>){</span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>    dat_out <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">parition =</span> i, <span class="at">words =</span> <span class="fu">rownames</span>(adjacency_matrix)[partition <span class="sc">==</span> i])</span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>  }<span class="cf">else</span>{</span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a>    dat_out <span class="ot">&lt;-</span> <span class="fu">rbind</span>(dat_out,</span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">data.frame</span>(<span class="at">parition =</span> i, <span class="at">words =</span> <span class="fu">rownames</span>(adjacency_matrix)[partition <span class="sc">==</span> i]))</span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-14"><a href="#cb33-14" aria-hidden="true" tabindex="-1"></a>  h <span class="ot">=</span> h <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb33-15"><a href="#cb33-15" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb33-16"><a href="#cb33-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-17"><a href="#cb33-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-18"><a href="#cb33-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-19"><a href="#cb33-19" aria-hidden="true" tabindex="-1"></a>dat_out<span class="sc">$</span>mean_valence <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb33-20"><a href="#cb33-20" aria-hidden="true" tabindex="-1"></a>dat_out<span class="sc">$</span>sd_valence <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb33-21"><a href="#cb33-21" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(dat_out)){</span>
<span id="cb33-22"><a href="#cb33-22" aria-hidden="true" tabindex="-1"></a>  dat_out<span class="sc">$</span>mean_valence[i] <span class="ot">&lt;-</span> CAMwordlist<span class="sc">$</span>mean_valence[CAMwordlist<span class="sc">$</span>Words <span class="sc">==</span> dat_out<span class="sc">$</span>words[i]]</span>
<span id="cb33-23"><a href="#cb33-23" aria-hidden="true" tabindex="-1"></a>  dat_out<span class="sc">$</span>sd_valence[i] <span class="ot">&lt;-</span> CAMwordlist<span class="sc">$</span>sd_valence[CAMwordlist<span class="sc">$</span>Words <span class="sc">==</span> dat_out<span class="sc">$</span>words[i]]</span>
<span id="cb33-24"><a href="#cb33-24" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb33-25"><a href="#cb33-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-26"><a href="#cb33-26" aria-hidden="true" tabindex="-1"></a>dat_out<span class="sc">$</span>words <span class="ot">&lt;-</span> <span class="fu">str_replace_all</span>(<span class="at">string =</span> dat_out<span class="sc">$</span>words, <span class="at">pattern =</span> <span class="st">" {2,6}"</span>, <span class="at">replacement =</span> <span class="st">" "</span>)</span>
<span id="cb33-27"><a href="#cb33-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-28"><a href="#cb33-28" aria-hidden="true" tabindex="-1"></a>dat_out<span class="sc">$</span>sd_valence <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(dat_out<span class="sc">$</span>sd_valence)</span>
<span id="cb33-29"><a href="#cb33-29" aria-hidden="true" tabindex="-1"></a>dat_out<span class="sc">$</span>mean_valence <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="at">x =</span> dat_out<span class="sc">$</span>mean_valence, <span class="at">digits =</span> <span class="dv">2</span>) </span>
<span id="cb33-30"><a href="#cb33-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-31"><a href="#cb33-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-32"><a href="#cb33-32" aria-hidden="true" tabindex="-1"></a><span class="do">## save as .xlsx file</span></span>
<span id="cb33-33"><a href="#cb33-33" aria-hidden="true" tabindex="-1"></a>xlsx<span class="sc">::</span><span class="fu">write.xlsx2</span>(<span class="at">x =</span> dat_out, <span class="at">file =</span> <span class="st">"LeidenAlgorithm_solution.xlsx"</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span>
<span id="cb33-34"><a href="#cb33-34" aria-hidden="true" tabindex="-1"></a><span class="do">## save as R object</span></span>
<span id="cb33-35"><a href="#cb33-35" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(dat_out, <span class="at">file =</span> <span class="st">"LeidenAlgorithm_solution.rds"</span>)</span>
<span id="cb33-36"><a href="#cb33-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-37"><a href="#cb33-37" aria-hidden="true" tabindex="-1"></a><span class="do">## add means for partitions</span></span>
<span id="cb33-38"><a href="#cb33-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-39"><a href="#cb33-39" aria-hidden="true" tabindex="-1"></a>partitions_means <span class="ot">&lt;-</span> dat_out <span class="sc">%&gt;%</span> </span>
<span id="cb33-40"><a href="#cb33-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(parition) <span class="sc">%&gt;%</span></span>
<span id="cb33-41"><a href="#cb33-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">N =</span> <span class="fu">n</span>(), <span class="at">mean =</span> <span class="fu">mean</span> (mean_valence), <span class="at">SD =</span> <span class="fu">mean</span>(sd_valence))</span>
<span id="cb33-42"><a href="#cb33-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-43"><a href="#cb33-43" aria-hidden="true" tabindex="-1"></a>dat_out<span class="sc">$</span>sd_valence <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb33-44"><a href="#cb33-44" aria-hidden="true" tabindex="-1"></a>dat_out<span class="sc">$</span>group_mean <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb33-45"><a href="#cb33-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-46"><a href="#cb33-46" aria-hidden="true" tabindex="-1"></a>partitions_means<span class="sc">$</span>mean <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="at">x =</span> partitions_means<span class="sc">$</span>mean, <span class="at">digits =</span> <span class="dv">2</span>) </span>
<span id="cb33-47"><a href="#cb33-47" aria-hidden="true" tabindex="-1"></a>partitions_means<span class="sc">$</span>SD <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="at">x =</span> partitions_means<span class="sc">$</span>SD, <span class="at">digits =</span> <span class="dv">2</span>) </span>
<span id="cb33-48"><a href="#cb33-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-49"><a href="#cb33-49" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(partitions_means)){</span>
<span id="cb33-50"><a href="#cb33-50" aria-hidden="true" tabindex="-1"></a>  tmp_boolean <span class="ot">&lt;-</span> dat_out<span class="sc">$</span>parition <span class="sc">==</span> i</span>
<span id="cb33-51"><a href="#cb33-51" aria-hidden="true" tabindex="-1"></a>  tmp_boolean <span class="ot">&lt;-</span> <span class="fu">which</span>(tmp_boolean)[<span class="fu">length</span>(<span class="fu">which</span>(tmp_boolean))]</span>
<span id="cb33-52"><a href="#cb33-52" aria-hidden="true" tabindex="-1"></a>  dat_out<span class="sc">$</span>group_mean[tmp_boolean] <span class="ot">&lt;-</span> <span class="fu">paste0</span>(partitions_means<span class="sc">$</span>mean[i], <span class="st">" ("</span>, partitions_means<span class="sc">$</span>SD[i], <span class="st">")"</span>)</span>
<span id="cb33-53"><a href="#cb33-53" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb33-54"><a href="#cb33-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-55"><a href="#cb33-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-56"><a href="#cb33-56" aria-hidden="true" tabindex="-1"></a><span class="fu">stargazer</span>(dat_out, <span class="at">type =</span> <span class="st">"html"</span>, <span class="at">summary =</span> <span class="cn">FALSE</span>, <span class="at">rownames =</span> <span class="cn">FALSE</span>, <span class="at">out =</span> <span class="st">"tableAppendixD.html"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
&lt;table style="text-align:center"&gt;&lt;tr&gt;&lt;td colspan="4" style="border-bottom: 1px solid black"&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style="text-align:left"&gt;parition&lt;/td&gt;&lt;td&gt;words&lt;/td&gt;&lt;td&gt;mean_valence&lt;/td&gt;&lt;td&gt;group_mean&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td colspan="4" style="border-bottom: 1px solid black"&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style="text-align:left"&gt;1&lt;/td&gt;&lt;td&gt;aktive Formänderung durch Umwelteinwirkung&lt;/td&gt;&lt;td&gt;0.180&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td style="text-align:left"&gt;1&lt;/td&gt;&lt;td&gt;reaktionsfähig&lt;/td&gt;&lt;td&gt;0.670&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td style="text-align:left"&gt;1&lt;/td&gt;&lt;td&gt;passive Formänderung durch Umwelteinwirkung&lt;/td&gt;&lt;td&gt;-0.020&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td style="text-align:left"&gt;1&lt;/td&gt;&lt;td&gt;autonom&lt;/td&gt;&lt;td&gt;0.750&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td style="text-align:left"&gt;1&lt;/td&gt;&lt;td&gt;passive Verhaltensänderung durch Umwelteinwirkung&lt;/td&gt;&lt;td&gt;0.060&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td style="text-align:left"&gt;1&lt;/td&gt;&lt;td&gt;aktive Verhaltensänderung durch Umwelteinwirkung&lt;/td&gt;&lt;td&gt;0.270&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td style="text-align:left"&gt;1&lt;/td&gt;&lt;td&gt;intelligent&lt;/td&gt;&lt;td&gt;1.350&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td style="text-align:left"&gt;1&lt;/td&gt;&lt;td&gt;multifunktional&lt;/td&gt;&lt;td&gt;1.650&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td style="text-align:left"&gt;1&lt;/td&gt;&lt;td&gt;technologisch&lt;/td&gt;&lt;td&gt;0.760&lt;/td&gt;&lt;td&gt;0.63 (1.07)&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td style="text-align:left"&gt;2&lt;/td&gt;&lt;td&gt;zuverlässig&lt;/td&gt;&lt;td&gt;2.170&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td style="text-align:left"&gt;2&lt;/td&gt;&lt;td&gt;wartungsfrei&lt;/td&gt;&lt;td&gt;1.750&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td style="text-align:left"&gt;2&lt;/td&gt;&lt;td&gt;selbstheilend&lt;/td&gt;&lt;td&gt;1.650&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td style="text-align:left"&gt;2&lt;/td&gt;&lt;td&gt;widerstandsfähig&lt;/td&gt;&lt;td&gt;1.740&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td style="text-align:left"&gt;2&lt;/td&gt;&lt;td&gt;selbstreparierend&lt;/td&gt;&lt;td&gt;1.790&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td style="text-align:left"&gt;2&lt;/td&gt;&lt;td&gt;haltbar&lt;/td&gt;&lt;td&gt;1.930&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td style="text-align:left"&gt;2&lt;/td&gt;&lt;td&gt;robust&lt;/td&gt;&lt;td&gt;1.820&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td style="text-align:left"&gt;2&lt;/td&gt;&lt;td&gt;langlebig&lt;/td&gt;&lt;td&gt;2.220&lt;/td&gt;&lt;td&gt;1.88 (1.07)&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td style="text-align:left"&gt;3&lt;/td&gt;&lt;td&gt;Akzeptanz eines neuen Materialsystems&lt;/td&gt;&lt;td&gt;0.360&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td style="text-align:left"&gt;3&lt;/td&gt;&lt;td&gt;wartungsintensiv&lt;/td&gt;&lt;td&gt;-2.040&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td style="text-align:left"&gt;3&lt;/td&gt;&lt;td&gt;enthält Kunststoff&lt;/td&gt;&lt;td&gt;-1.040&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td style="text-align:left"&gt;3&lt;/td&gt;&lt;td&gt;leicht zerstörbar&lt;/td&gt;&lt;td&gt;-1.800&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td style="text-align:left"&gt;3&lt;/td&gt;&lt;td&gt;umweltschädlich&lt;/td&gt;&lt;td&gt;-2.600&lt;/td&gt;&lt;td&gt;-1.42 (1.06)&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td style="text-align:left"&gt;4&lt;/td&gt;&lt;td&gt;ökologisch&lt;/td&gt;&lt;td&gt;1.900&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td style="text-align:left"&gt;4&lt;/td&gt;&lt;td&gt;elektronikfrei&lt;/td&gt;&lt;td&gt;0.460&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td style="text-align:left"&gt;4&lt;/td&gt;&lt;td&gt;nachhaltig&lt;/td&gt;&lt;td&gt;2.380&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td style="text-align:left"&gt;4&lt;/td&gt;&lt;td&gt;umweltfreundlich&lt;/td&gt;&lt;td&gt;2.490&lt;/td&gt;&lt;td&gt;1.81 (1.01)&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td style="text-align:left"&gt;5&lt;/td&gt;&lt;td&gt;Energie speichernd&lt;/td&gt;&lt;td&gt;1.500&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td style="text-align:left"&gt;5&lt;/td&gt;&lt;td&gt;energieeffizient&lt;/td&gt;&lt;td&gt;2.080&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td style="text-align:left"&gt;5&lt;/td&gt;&lt;td&gt;energieautonom&lt;/td&gt;&lt;td&gt;1.430&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td style="text-align:left"&gt;5&lt;/td&gt;&lt;td&gt;Energie generierend&lt;/td&gt;&lt;td&gt;1.720&lt;/td&gt;&lt;td&gt;1.68 (1.06)&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td style="text-align:left"&gt;6&lt;/td&gt;&lt;td&gt;Insekten ähnlich&lt;/td&gt;&lt;td&gt;-0.120&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td style="text-align:left"&gt;6&lt;/td&gt;&lt;td&gt;bioinspiriert&lt;/td&gt;&lt;td&gt;0.780&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td style="text-align:left"&gt;6&lt;/td&gt;&lt;td&gt;lebensähnlich&lt;/td&gt;&lt;td&gt;0.330&lt;/td&gt;&lt;td&gt;0.33 (1.03)&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td colspan="4" style="border-bottom: 1px solid black"&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">stargazer</span>(dat_out, <span class="at">type =</span> <span class="st">"latex"</span>, <span class="at">summary =</span> <span class="cn">FALSE</span>, <span class="at">rownames =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
% Table created by stargazer v.5.2.3 by Marek Hlavac, Social Policy Institute. E-mail: marek.hlavac at gmail.com
% Date and time: Do, Mai 23, 2024 - 07:55:50
\begin{table}[!htbp] \centering 
  \caption{} 
  \label{} 
\begin{tabular}{@{\extracolsep{5pt}} cccc} 
\\[-1.8ex]\hline 
\hline \\[-1.8ex] 
parition &amp; words &amp; mean\_valence &amp; group\_mean \\ 
\hline \\[-1.8ex] 
$1$ &amp; aktive Formänderung durch Umwelteinwirkung &amp; $0.180$ &amp;  \\ 
$1$ &amp; reaktionsfähig &amp; $0.670$ &amp;  \\ 
$1$ &amp; passive Formänderung durch Umwelteinwirkung &amp; $$-$0.020$ &amp;  \\ 
$1$ &amp; autonom &amp; $0.750$ &amp;  \\ 
$1$ &amp; passive Verhaltensänderung durch Umwelteinwirkung &amp; $0.060$ &amp;  \\ 
$1$ &amp; aktive Verhaltensänderung durch Umwelteinwirkung &amp; $0.270$ &amp;  \\ 
$1$ &amp; intelligent &amp; $1.350$ &amp;  \\ 
$1$ &amp; multifunktional &amp; $1.650$ &amp;  \\ 
$1$ &amp; technologisch &amp; $0.760$ &amp; 0.63 (1.07) \\ 
$2$ &amp; zuverlässig &amp; $2.170$ &amp;  \\ 
$2$ &amp; wartungsfrei &amp; $1.750$ &amp;  \\ 
$2$ &amp; selbstheilend &amp; $1.650$ &amp;  \\ 
$2$ &amp; widerstandsfähig &amp; $1.740$ &amp;  \\ 
$2$ &amp; selbstreparierend &amp; $1.790$ &amp;  \\ 
$2$ &amp; haltbar &amp; $1.930$ &amp;  \\ 
$2$ &amp; robust &amp; $1.820$ &amp;  \\ 
$2$ &amp; langlebig &amp; $2.220$ &amp; 1.88 (1.07) \\ 
$3$ &amp; Akzeptanz eines neuen Materialsystems &amp; $0.360$ &amp;  \\ 
$3$ &amp; wartungsintensiv &amp; $$-$2.040$ &amp;  \\ 
$3$ &amp; enthält Kunststoff &amp; $$-$1.040$ &amp;  \\ 
$3$ &amp; leicht zerstörbar &amp; $$-$1.800$ &amp;  \\ 
$3$ &amp; umweltschädlich &amp; $$-$2.600$ &amp; -1.42 (1.06) \\ 
$4$ &amp; ökologisch &amp; $1.900$ &amp;  \\ 
$4$ &amp; elektronikfrei &amp; $0.460$ &amp;  \\ 
$4$ &amp; nachhaltig &amp; $2.380$ &amp;  \\ 
$4$ &amp; umweltfreundlich &amp; $2.490$ &amp; 1.81 (1.01) \\ 
$5$ &amp; Energie speichernd &amp; $1.500$ &amp;  \\ 
$5$ &amp; energieeffizient &amp; $2.080$ &amp;  \\ 
$5$ &amp; energieautonom &amp; $1.430$ &amp;  \\ 
$5$ &amp; Energie generierend &amp; $1.720$ &amp; 1.68 (1.06) \\ 
$6$ &amp; Insekten ähnlich &amp; $$-$0.120$ &amp;  \\ 
$6$ &amp; bioinspiriert &amp; $0.780$ &amp;  \\ 
$6$ &amp; lebensähnlich &amp; $0.330$ &amp; 0.33 (1.03) \\ 
\hline \\[-1.8ex] 
\end{tabular} 
\end{table} </code></pre>
</div>
</div>
<p>Compute all means for all possible tuples of the identified partitions:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">"outputs/02_analyses_CAMs/Leiden algorithm aggregated CAM"</span>)</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate all combinations of 2 elements</span></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>combinations <span class="ot">&lt;-</span> <span class="fu">combn</span>(partitions_means<span class="sc">$</span>parition, <span class="dv">2</span>, <span class="at">simplify =</span> <span class="cn">FALSE</span>)</span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(combinations)){</span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a>  tmp <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">partitionA =</span> combinations[[i]][<span class="dv">1</span>], </span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a>             <span class="at">partitionB =</span> combinations[[i]][<span class="dv">2</span>], </span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a>             <span class="at">mean =</span> <span class="fu">mean</span>(partitions_means<span class="sc">$</span>mean[combinations[[i]]]), </span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a>             <span class="at">wordsA =</span> <span class="fu">paste0</span>(dat_out<span class="sc">$</span>words[dat_out<span class="sc">$</span>parition <span class="sc">==</span> combinations[[i]][<span class="dv">1</span>]], <span class="at">collapse =</span> <span class="st">" </span><span class="sc">\\</span><span class="st"> "</span>), </span>
<span id="cb37-13"><a href="#cb37-13" aria-hidden="true" tabindex="-1"></a>             <span class="at">wordsB =</span> <span class="fu">paste0</span>(dat_out<span class="sc">$</span>words[dat_out<span class="sc">$</span>parition <span class="sc">==</span> combinations[[i]][<span class="dv">2</span>]], <span class="at">collapse =</span> <span class="st">" </span><span class="sc">\\</span><span class="st"> "</span>))</span>
<span id="cb37-14"><a href="#cb37-14" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb37-15"><a href="#cb37-15" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(i <span class="sc">==</span> <span class="dv">1</span>){</span>
<span id="cb37-16"><a href="#cb37-16" aria-hidden="true" tabindex="-1"></a>    dat_out_hypotheses <span class="ot">&lt;-</span> tmp</span>
<span id="cb37-17"><a href="#cb37-17" aria-hidden="true" tabindex="-1"></a>  }<span class="cf">else</span>{</span>
<span id="cb37-18"><a href="#cb37-18" aria-hidden="true" tabindex="-1"></a>    dat_out_hypotheses <span class="ot">&lt;-</span> <span class="fu">rbind</span>(dat_out_hypotheses, tmp)</span>
<span id="cb37-19"><a href="#cb37-19" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb37-20"><a href="#cb37-20" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb37-21"><a href="#cb37-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-22"><a href="#cb37-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-23"><a href="#cb37-23" aria-hidden="true" tabindex="-1"></a>dat_out_hypotheses <span class="ot">&lt;-</span> dat_out_hypotheses[<span class="fu">order</span>(dat_out_hypotheses<span class="sc">$</span>mean),]</span>
<span id="cb37-24"><a href="#cb37-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-25"><a href="#cb37-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-26"><a href="#cb37-26" aria-hidden="true" tabindex="-1"></a><span class="do">## save as .xlsx file</span></span>
<span id="cb37-27"><a href="#cb37-27" aria-hidden="true" tabindex="-1"></a>xlsx<span class="sc">::</span><span class="fu">write.xlsx2</span>(<span class="at">x =</span> dat_out_hypotheses, <span class="at">file =</span> <span class="st">"LeidenAlgorithm_hypotheses.xlsx"</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span>
<span id="cb37-28"><a href="#cb37-28" aria-hidden="true" tabindex="-1"></a><span class="do">## save as R object</span></span>
<span id="cb37-29"><a href="#cb37-29" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(dat_out_hypotheses, <span class="at">file =</span> <span class="st">"LeidenAlgorithm_hypotheses.rds"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="leiden-algorithm-on-aggregated-multi-edge-graph-with-modularitypruning-gibson-and-mucha-2022" class="level3" data-number="6.1.2">
<h3 data-number="6.1.2" class="anchored" data-anchor-id="leiden-algorithm-on-aggregated-multi-edge-graph-with-modularitypruning-gibson-and-mucha-2022"><span class="header-section-number">6.1.2</span> Leiden algorithm on aggregated multi-edge graph with ModularityPruning (Gibson and Mucha, 2022)</h3>
<p>Community detection based on the single-layer multi-edge aggregated graph. Partitions are then pruned with ModularityPruning (http://github.com/ragibson/ModularityPruning) to keep only stable and modularity-optimal solutions.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> igraph <span class="im">as</span> ig</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> modularitypruning <span class="im">import</span> prune_to_stable_partitions</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> modularitypruning.leiden_utilities <span class="im">import</span> repeated_parallel_leiden_from_gammas</span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> modularitypruning.champ_utilities <span class="im">import</span> CHAMP_3D</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> modularitypruning.parameter_estimation_utilities <span class="im">import</span> domains_to_gamma_omega_estimates</span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> modularitypruning.plotting <span class="im">import</span> plot_2d_domains_with_estimates</span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> modularitypruning.plotting <span class="im">import</span> plot_estimates</span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> modularitypruning.champ_utilities <span class="im">import</span> CHAMP_2D</span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> modularitypruning.parameter_estimation_utilities <span class="im">import</span> ranges_to_gamma_estimates</span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> modularitypruning.plotting <span class="im">import</span> plot_estimates</span>
<span id="cb38-12"><a href="#cb38-12" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb38-13"><a href="#cb38-13" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb38-14"><a href="#cb38-14" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> random <span class="im">import</span> seed</span>
<span id="cb38-15"><a href="#cb38-15" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> python_helpers <span class="im">import</span> print_partition  <span class="co"># our local helper scripts</span></span>
<span id="cb38-16"><a href="#cb38-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-17"><a href="#cb38-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-18"><a href="#cb38-18" aria-hidden="true" tabindex="-1"></a>np.set_printoptions(threshold<span class="op">=</span>np.inf)</span>
<span id="cb38-19"><a href="#cb38-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-20"><a href="#cb38-20" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(<span class="st">"outputs/01_dataPreperation/final/CAMaggregated_adj_matrix.csv"</span>, <span class="st">"r"</span>) <span class="im">as</span> f:</span>
<span id="cb38-21"><a href="#cb38-21" aria-hidden="true" tabindex="-1"></a>    names <span class="op">=</span> f.readline()</span>
<span id="cb38-22"><a href="#cb38-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-23"><a href="#cb38-23" aria-hidden="true" tabindex="-1"></a>names <span class="op">=</span> names.split(<span class="st">'" "'</span>)</span>
<span id="cb38-24"><a href="#cb38-24" aria-hidden="true" tabindex="-1"></a>names[<span class="dv">0</span>] <span class="op">=</span> names[<span class="dv">0</span>][<span class="dv">1</span>:]     <span class="co"># strip the first "</span></span>
<span id="cb38-25"><a href="#cb38-25" aria-hidden="true" tabindex="-1"></a>names[<span class="op">-</span><span class="dv">1</span>] <span class="op">=</span> names[<span class="op">-</span><span class="dv">1</span>][:<span class="op">-</span><span class="dv">2</span>]  <span class="co"># strip the last \n</span></span>
<span id="cb38-26"><a href="#cb38-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-27"><a href="#cb38-27" aria-hidden="true" tabindex="-1"></a>names <span class="op">=</span> <span class="bu">dict</span>(<span class="bu">enumerate</span>(names))</span>
<span id="cb38-28"><a href="#cb38-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-29"><a href="#cb38-29" aria-hidden="true" tabindex="-1"></a>adj_matrix <span class="op">=</span> np.loadtxt(<span class="bu">open</span>(<span class="st">"outputs/01_dataPreperation/final/CAMaggregated_adj_matrix.csv"</span>, <span class="st">"rb"</span>), delimiter<span class="op">=</span><span class="st">" "</span>, skiprows<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb38-30"><a href="#cb38-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-31"><a href="#cb38-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-32"><a href="#cb38-32" aria-hidden="true" tabindex="-1"></a><span class="co"># remove self-loops</span></span>
<span id="cb38-33"><a href="#cb38-33" aria-hidden="true" tabindex="-1"></a>np.fill_diagonal(adj_matrix, <span class="dv">0</span>)</span>
<span id="cb38-34"><a href="#cb38-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-35"><a href="#cb38-35" aria-hidden="true" tabindex="-1"></a>G <span class="op">=</span> ig.Graph.Adjacency(matrix<span class="op">=</span>adj_matrix, mode<span class="op">=</span><span class="st">"undirected"</span>)</span>
<span id="cb38-36"><a href="#cb38-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-37"><a href="#cb38-37" aria-hidden="true" tabindex="-1"></a>gamma_range <span class="op">=</span> (<span class="dv">0</span>, <span class="dv">2</span>)</span>
<span id="cb38-38"><a href="#cb38-38" aria-hidden="true" tabindex="-1"></a>leiden_gammas <span class="op">=</span> np.linspace(<span class="op">*</span>gamma_range, <span class="dv">10</span> <span class="op">**</span> <span class="dv">1</span>) <span class="co"># 5   # 100k runs of Leiden algorithm</span></span>
<span id="cb38-39"><a href="#cb38-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-40"><a href="#cb38-40" aria-hidden="true" tabindex="-1"></a>seed(<span class="dv">12345</span>)</span>
<span id="cb38-41"><a href="#cb38-41" aria-hidden="true" tabindex="-1"></a>partitions <span class="op">=</span> repeated_parallel_leiden_from_gammas(G, leiden_gammas)</span>
<span id="cb38-42"><a href="#cb38-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-43"><a href="#cb38-43" aria-hidden="true" tabindex="-1"></a><span class="co"># prune to the stable partitions from (gamma=0, omega=0) to (gamma=2, omega=2)</span></span>
<span id="cb38-44"><a href="#cb38-44" aria-hidden="true" tabindex="-1"></a>seed(<span class="dv">12345</span>)</span>
<span id="cb38-45"><a href="#cb38-45" aria-hidden="true" tabindex="-1"></a>stable_parts <span class="op">=</span> prune_to_stable_partitions(G, partitions, <span class="op">*</span>gamma_range)</span>
<span id="cb38-46"><a href="#cb38-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-47"><a href="#cb38-47" aria-hidden="true" tabindex="-1"></a><span class="co"># run CHAMP to obtain the dominant partitions along with their regions of optimality</span></span>
<span id="cb38-48"><a href="#cb38-48" aria-hidden="true" tabindex="-1"></a>ranges <span class="op">=</span> CHAMP_2D(G, partitions, gamma_0<span class="op">=</span><span class="fl">0.0</span>, gamma_f<span class="op">=</span><span class="fl">2.0</span>)</span>
<span id="cb38-49"><a href="#cb38-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-50"><a href="#cb38-50" aria-hidden="true" tabindex="-1"></a><span class="co"># append gamma estimate for each dominant partition onto the CHAMP domains</span></span>
<span id="cb38-51"><a href="#cb38-51" aria-hidden="true" tabindex="-1"></a>gamma_estimates <span class="op">=</span> ranges_to_gamma_estimates(G, ranges)</span>
<span id="cb38-52"><a href="#cb38-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-53"><a href="#cb38-53" aria-hidden="true" tabindex="-1"></a><span class="co"># get some infos about our partitions</span></span>
<span id="cb38-54"><a href="#cb38-54" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> stable_part <span class="kw">in</span> stable_parts:</span>
<span id="cb38-55"><a href="#cb38-55" aria-hidden="true" tabindex="-1"></a>    print_partition(stable_part, partitions, names, gamma_estimates)</span>
<span id="cb38-56"><a href="#cb38-56" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"</span><span class="ch">\n\n</span><span class="st">"</span>)</span>
<span id="cb38-57"><a href="#cb38-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-58"><a href="#cb38-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-59"><a href="#cb38-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-60"><a href="#cb38-60" aria-hidden="true" tabindex="-1"></a><span class="co"># plot gamma estimates and domains of optimality</span></span>
<span id="cb38-61"><a href="#cb38-61" aria-hidden="true" tabindex="-1"></a>plt.rc(<span class="st">'text'</span>, usetex<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb38-62"><a href="#cb38-62" aria-hidden="true" tabindex="-1"></a>plt.rc(<span class="st">'font'</span>, family<span class="op">=</span><span class="st">'serif'</span>)</span>
<span id="cb38-63"><a href="#cb38-63" aria-hidden="true" tabindex="-1"></a>plot_estimates(gamma_estimates)</span>
<span id="cb38-64"><a href="#cb38-64" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="vs">r"CHAMP Domains of Optimality and $\gamma$ Estimates"</span>, fontsize<span class="op">=</span><span class="dv">14</span>)</span>
<span id="cb38-65"><a href="#cb38-65" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="vs">r"$\gamma$"</span>, fontsize<span class="op">=</span><span class="dv">14</span>)</span>
<span id="cb38-66"><a href="#cb38-66" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"Number of communities"</span>, fontsize<span class="op">=</span><span class="dv">14</span>)</span>
<span id="cb38-67"><a href="#cb38-67" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="leiden-algorithm-on-multilayer-graph-with-modularitypruning-gibson-and-mucha-2022" class="level3" data-number="6.1.3">
<h3 data-number="6.1.3" class="anchored" data-anchor-id="leiden-algorithm-on-multilayer-graph-with-modularitypruning-gibson-and-mucha-2022"><span class="header-section-number">6.1.3</span> Leiden algorithm on multilayer graph with ModularityPruning (Gibson and Mucha, 2022)</h3>
<p>Community detection based on a multilayer graph with participants as layers. Partitions are then pruned with ModularityPruning (http://github.com/ragibson/ModularityPruning) to keep only stable and modularity-optimal solutions.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> igraph <span class="im">as</span> ig</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> modularitypruning <span class="im">import</span> prune_to_multilayer_stable_partitions</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> modularitypruning.leiden_utilities <span class="im">import</span> repeated_parallel_leiden_from_gammas_omegas</span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> modularitypruning.champ_utilities <span class="im">import</span> CHAMP_3D</span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> modularitypruning.parameter_estimation_utilities <span class="im">import</span> domains_to_gamma_omega_estimates</span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> modularitypruning.plotting <span class="im">import</span> plot_2d_domains_with_estimates</span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> random <span class="im">import</span> seed</span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> python_helpers <span class="im">import</span> print_partition  <span class="co"># our local helper scripts</span></span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-12"><a href="#cb39-12" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> cairocffi</span>
<span id="cb39-13"><a href="#cb39-13" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> scipy.io</span>
<span id="cb39-14"><a href="#cb39-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-15"><a href="#cb39-15" aria-hidden="true" tabindex="-1"></a>np.set_printoptions(threshold<span class="op">=</span>np.inf)</span>
<span id="cb39-16"><a href="#cb39-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-17"><a href="#cb39-17" aria-hidden="true" tabindex="-1"></a><span class="co"># CAMaggregated = scipy.io.loadmat("outputs/01_dataPreperation/final/CAMaggregated_adj_matrices.mat") # !!!</span></span>
<span id="cb39-18"><a href="#cb39-18" aria-hidden="true" tabindex="-1"></a>CAMaggregated <span class="op">=</span> scipy.io.loadmat(<span class="st">"outputs/01_dataPreperation/final/CAMaggregated_adj_matrices_onlyOnes.mat"</span>) <span class="co"># !!!</span></span>
<span id="cb39-19"><a href="#cb39-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-20"><a href="#cb39-20" aria-hidden="true" tabindex="-1"></a><span class="co"># import names for labelling</span></span>
<span id="cb39-21"><a href="#cb39-21" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(<span class="st">"outputs/01_dataPreperation/final/CAMaggregated_adj_matrix.csv"</span>, <span class="st">"r"</span>) <span class="im">as</span> f:</span>
<span id="cb39-22"><a href="#cb39-22" aria-hidden="true" tabindex="-1"></a>    names <span class="op">=</span> f.readline()</span>
<span id="cb39-23"><a href="#cb39-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-24"><a href="#cb39-24" aria-hidden="true" tabindex="-1"></a>names <span class="op">=</span> names.split(<span class="st">'" "'</span>)</span>
<span id="cb39-25"><a href="#cb39-25" aria-hidden="true" tabindex="-1"></a>names[<span class="dv">0</span>] <span class="op">=</span> names[<span class="dv">0</span>][<span class="dv">1</span>:]     <span class="co"># strip the first "</span></span>
<span id="cb39-26"><a href="#cb39-26" aria-hidden="true" tabindex="-1"></a>names[<span class="op">-</span><span class="dv">1</span>] <span class="op">=</span> names[<span class="op">-</span><span class="dv">1</span>][:<span class="op">-</span><span class="dv">2</span>]  <span class="co"># strip the last \n</span></span>
<span id="cb39-27"><a href="#cb39-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-28"><a href="#cb39-28" aria-hidden="true" tabindex="-1"></a>names <span class="op">=</span> <span class="bu">dict</span>(<span class="bu">enumerate</span>(names))</span>
<span id="cb39-29"><a href="#cb39-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-30"><a href="#cb39-30" aria-hidden="true" tabindex="-1"></a>adj_matrices <span class="op">=</span> <span class="bu">list</span>(CAMaggregated[<span class="st">"multigraph_adj_matrices_list"</span>][<span class="dv">0</span>,<span class="dv">0</span>])</span>
<span id="cb39-31"><a href="#cb39-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-32"><a href="#cb39-32" aria-hidden="true" tabindex="-1"></a>num_layers <span class="op">=</span> <span class="bu">len</span>(adj_matrices)</span>
<span id="cb39-33"><a href="#cb39-33" aria-hidden="true" tabindex="-1"></a>n_per_layer <span class="op">=</span> <span class="dv">33</span></span>
<span id="cb39-34"><a href="#cb39-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-35"><a href="#cb39-35" aria-hidden="true" tabindex="-1"></a><span class="co"># nodes   0..32 are layer0</span></span>
<span id="cb39-36"><a href="#cb39-36" aria-hidden="true" tabindex="-1"></a><span class="co"># nodes  33..65 are layer1</span></span>
<span id="cb39-37"><a href="#cb39-37" aria-hidden="true" tabindex="-1"></a><span class="co"># ...</span></span>
<span id="cb39-38"><a href="#cb39-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-39"><a href="#cb39-39" aria-hidden="true" tabindex="-1"></a><span class="co"># layer_vec holds the layer membership of each node</span></span>
<span id="cb39-40"><a href="#cb39-40" aria-hidden="true" tabindex="-1"></a><span class="co"># e.g. layer_vec[5] = 2 means that node 5 resides in layer 2 (the third layer)</span></span>
<span id="cb39-41"><a href="#cb39-41" aria-hidden="true" tabindex="-1"></a>layer_vec <span class="op">=</span> [i <span class="op">//</span> n_per_layer <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(n_per_layer <span class="op">*</span> num_layers)]</span>
<span id="cb39-42"><a href="#cb39-42" aria-hidden="true" tabindex="-1"></a>interlayer_edges <span class="op">=</span> [(n_per_layer <span class="op">*</span> layer <span class="op">+</span> v, n_per_layer <span class="op">*</span> layer <span class="op">+</span> v <span class="op">+</span> n_per_layer)</span>
<span id="cb39-43"><a href="#cb39-43" aria-hidden="true" tabindex="-1"></a>                    <span class="cf">for</span> layer <span class="kw">in</span> <span class="bu">range</span>(num_layers <span class="op">-</span> <span class="dv">1</span>)</span>
<span id="cb39-44"><a href="#cb39-44" aria-hidden="true" tabindex="-1"></a>                    <span class="cf">for</span> v <span class="kw">in</span> <span class="bu">range</span>(n_per_layer)]</span>
<span id="cb39-45"><a href="#cb39-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-46"><a href="#cb39-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-47"><a href="#cb39-47" aria-hidden="true" tabindex="-1"></a><span class="co"># intralayer edges: we need a list of tuples (i.e. edgelist)</span></span>
<span id="cb39-48"><a href="#cb39-48" aria-hidden="true" tabindex="-1"></a><span class="co"># recode the node indices according to the scheme described above (33..65 is layer1 etc.).</span></span>
<span id="cb39-49"><a href="#cb39-49" aria-hidden="true" tabindex="-1"></a><span class="co"># note that this is unweighted for now (could add weights to the igraph object)</span></span>
<span id="cb39-50"><a href="#cb39-50" aria-hidden="true" tabindex="-1"></a>intralayer_edges <span class="op">=</span> []</span>
<span id="cb39-51"><a href="#cb39-51" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, adj_matrix <span class="kw">in</span> <span class="bu">enumerate</span>(adj_matrices):</span>
<span id="cb39-52"><a href="#cb39-52" aria-hidden="true" tabindex="-1"></a>    conn_indices <span class="op">=</span> np.where(adj_matrix)</span>
<span id="cb39-53"><a href="#cb39-53" aria-hidden="true" tabindex="-1"></a>    x_indices, y_indices <span class="op">=</span> conn_indices</span>
<span id="cb39-54"><a href="#cb39-54" aria-hidden="true" tabindex="-1"></a>    x_indices <span class="op">+=</span> i <span class="op">*</span> n_per_layer</span>
<span id="cb39-55"><a href="#cb39-55" aria-hidden="true" tabindex="-1"></a>    y_indices <span class="op">+=</span> i <span class="op">*</span> n_per_layer</span>
<span id="cb39-56"><a href="#cb39-56" aria-hidden="true" tabindex="-1"></a>    edges <span class="op">=</span> <span class="bu">zip</span>(<span class="op">*</span>(x_indices, y_indices))</span>
<span id="cb39-57"><a href="#cb39-57" aria-hidden="true" tabindex="-1"></a>    intralayer_edges <span class="op">+=</span> edges</span>
<span id="cb39-58"><a href="#cb39-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-59"><a href="#cb39-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-60"><a href="#cb39-60" aria-hidden="true" tabindex="-1"></a>G_interlayer <span class="op">=</span> ig.Graph(interlayer_edges)</span>
<span id="cb39-61"><a href="#cb39-61" aria-hidden="true" tabindex="-1"></a>G_intralayer <span class="op">=</span> ig.Graph(intralayer_edges)</span>
<span id="cb39-62"><a href="#cb39-62" aria-hidden="true" tabindex="-1"></a><span class="co"># remove the double edges we got from constructing the igraph objects with symmetric matrices</span></span>
<span id="cb39-63"><a href="#cb39-63" aria-hidden="true" tabindex="-1"></a>G_intralayer <span class="op">=</span> G_intralayer.simplify()</span>
<span id="cb39-64"><a href="#cb39-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-65"><a href="#cb39-65" aria-hidden="true" tabindex="-1"></a><span class="co"># run Leiden on a uniform 32x32 grid (1024 samples) of gamma and omega in [0, 2]</span></span>
<span id="cb39-66"><a href="#cb39-66" aria-hidden="true" tabindex="-1"></a>gamma_range <span class="op">=</span> (<span class="dv">0</span>, <span class="dv">2</span>)</span>
<span id="cb39-67"><a href="#cb39-67" aria-hidden="true" tabindex="-1"></a>omega_range <span class="op">=</span> (<span class="dv">0</span>, <span class="dv">2</span>)</span>
<span id="cb39-68"><a href="#cb39-68" aria-hidden="true" tabindex="-1"></a>leiden_gammas <span class="op">=</span> np.linspace(<span class="op">*</span>gamma_range, <span class="dv">32</span>)</span>
<span id="cb39-69"><a href="#cb39-69" aria-hidden="true" tabindex="-1"></a>leiden_omegas <span class="op">=</span> np.linspace(<span class="op">*</span>omega_range, <span class="dv">32</span>)</span>
<span id="cb39-70"><a href="#cb39-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-71"><a href="#cb39-71" aria-hidden="true" tabindex="-1"></a>seed(<span class="dv">12345</span>)</span>
<span id="cb39-72"><a href="#cb39-72" aria-hidden="true" tabindex="-1"></a>parts <span class="op">=</span> repeated_parallel_leiden_from_gammas_omegas(G_intralayer, G_interlayer, layer_vec, gammas<span class="op">=</span>leiden_gammas, omegas<span class="op">=</span>leiden_omegas)</span>
<span id="cb39-73"><a href="#cb39-73" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-74"><a href="#cb39-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-75"><a href="#cb39-75" aria-hidden="true" tabindex="-1"></a><span class="co"># prune to the stable partitions from (gamma=0, omega=0) to (gamma=2, omega=2)</span></span>
<span id="cb39-76"><a href="#cb39-76" aria-hidden="true" tabindex="-1"></a>seed(<span class="dv">12345</span>)</span>
<span id="cb39-77"><a href="#cb39-77" aria-hidden="true" tabindex="-1"></a>stable_parts <span class="op">=</span> prune_to_multilayer_stable_partitions(G_intralayer, G_interlayer, layer_vec,</span>
<span id="cb39-78"><a href="#cb39-78" aria-hidden="true" tabindex="-1"></a>                                                     <span class="st">"multiplex"</span>, parts,</span>
<span id="cb39-79"><a href="#cb39-79" aria-hidden="true" tabindex="-1"></a>                                                     <span class="op">*</span>gamma_range, <span class="op">*</span>omega_range)</span>
<span id="cb39-80"><a href="#cb39-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-81"><a href="#cb39-81" aria-hidden="true" tabindex="-1"></a><span class="co"># run CHAMP to obtain the dominant partitions along with their regions of optimality</span></span>
<span id="cb39-82"><a href="#cb39-82" aria-hidden="true" tabindex="-1"></a>seed(<span class="dv">12345</span>)</span>
<span id="cb39-83"><a href="#cb39-83" aria-hidden="true" tabindex="-1"></a>domains <span class="op">=</span> CHAMP_3D(G_intralayer, G_interlayer, layer_vec, parts,</span>
<span id="cb39-84"><a href="#cb39-84" aria-hidden="true" tabindex="-1"></a>                   gamma_0<span class="op">=</span>gamma_range[<span class="dv">0</span>], gamma_f<span class="op">=</span>gamma_range[<span class="dv">1</span>],</span>
<span id="cb39-85"><a href="#cb39-85" aria-hidden="true" tabindex="-1"></a>                   omega_0<span class="op">=</span>omega_range[<span class="dv">0</span>], omega_f<span class="op">=</span>omega_range[<span class="dv">1</span>])</span>
<span id="cb39-86"><a href="#cb39-86" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-87"><a href="#cb39-87" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-88"><a href="#cb39-88" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-89"><a href="#cb39-89" aria-hidden="true" tabindex="-1"></a><span class="co"># append resolution parameter estimates for each dominant partition onto the CHAMP domains</span></span>
<span id="cb39-90"><a href="#cb39-90" aria-hidden="true" tabindex="-1"></a>seed(<span class="dv">12345</span>)</span>
<span id="cb39-91"><a href="#cb39-91" aria-hidden="true" tabindex="-1"></a>domains_with_estimates <span class="op">=</span> domains_to_gamma_omega_estimates(G_intralayer, G_interlayer, layer_vec,</span>
<span id="cb39-92"><a href="#cb39-92" aria-hidden="true" tabindex="-1"></a>                                                          domains, model<span class="op">=</span><span class="st">'multiplex'</span>)</span>
<span id="cb39-93"><a href="#cb39-93" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> partition <span class="kw">in</span> stable_parts:</span>
<span id="cb39-94"><a href="#cb39-94" aria-hidden="true" tabindex="-1"></a>    print_partition(partition, parts, names, domains_with_estimates, <span class="bu">type</span><span class="op">=</span><span class="st">"multilayer"</span>)</span>
<span id="cb39-95"><a href="#cb39-95" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-96"><a href="#cb39-96" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-97"><a href="#cb39-97" aria-hidden="true" tabindex="-1"></a><span class="co"># plot resolution parameter estimates and domains of optimality</span></span>
<span id="cb39-98"><a href="#cb39-98" aria-hidden="true" tabindex="-1"></a>plt.rc(<span class="st">'text'</span>, usetex<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb39-99"><a href="#cb39-99" aria-hidden="true" tabindex="-1"></a>plt.rc(<span class="st">'font'</span>, family<span class="op">=</span><span class="st">'serif'</span>)</span>
<span id="cb39-100"><a href="#cb39-100" aria-hidden="true" tabindex="-1"></a>plot_2d_domains_with_estimates(domains_with_estimates, xlim<span class="op">=</span>omega_range, ylim<span class="op">=</span>gamma_range)</span>
<span id="cb39-101"><a href="#cb39-101" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="vs">r"CHAMP Domains and ($\omega$, $\gamma$) Estimates"</span>, fontsize<span class="op">=</span><span class="dv">16</span>)</span>
<span id="cb39-102"><a href="#cb39-102" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="vs">r"$\omega$"</span>, fontsize<span class="op">=</span><span class="dv">20</span>)</span>
<span id="cb39-103"><a href="#cb39-103" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="vs">r"$\gamma$"</span>, fontsize<span class="op">=</span><span class="dv">20</span>)</span>
<span id="cb39-104"><a href="#cb39-104" aria-hidden="true" tabindex="-1"></a>plt.gca().tick_params(axis<span class="op">=</span><span class="st">'both'</span>, labelsize<span class="op">=</span><span class="dv">12</span>)</span>
<span id="cb39-105"><a href="#cb39-105" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb39-106"><a href="#cb39-106" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="multilayerextraction-algorithm-wilson-et-al.-2017" class="level3" data-number="6.1.4">
<h3 data-number="6.1.4" class="anchored" data-anchor-id="multilayerextraction-algorithm-wilson-et-al.-2017"><span class="header-section-number">6.1.4</span> MultilayerExtraction algorithm (Wilson et al., 2017)</h3>
<p>Community detection based on a multilayer graph with participants as layers using the MultilayerExtraction by Wilson et al., 2017 (https://github.com/jdwilson4/MultilayerExtraction).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">"outputs/02_analyses_CAMs/MultilayerExtraction"</span>)</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a><span class="co"># recode vertex labels to integers</span></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>attributes_names <span class="ot">&lt;-</span> <span class="fu">c</span>(hist1_names, hist2_names)</span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a><span class="co"># there were differences in whitespace between some of the concepts (2 vs. 3 whitespaces) -&gt; fix it</span></span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>CAMaggregated[[<span class="dv">4</span>]][[<span class="st">"node1"</span>]][CAMaggregated[[<span class="dv">4</span>]][[<span class="st">"node1"</span>]] <span class="sc">==</span> <span class="st">"Energie   generierend"</span>] <span class="ot">&lt;-</span> <span class="st">"Energie  generierend"</span></span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a>CAMaggregated[[<span class="dv">4</span>]][[<span class="st">"node2"</span>]][CAMaggregated[[<span class="dv">4</span>]][[<span class="st">"node2"</span>]] <span class="sc">==</span> <span class="st">"Energie   generierend"</span>] <span class="ot">&lt;-</span> <span class="st">"Energie  generierend"</span></span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a>CAMaggregated[[<span class="dv">4</span>]][[<span class="st">"node1"</span>]][CAMaggregated[[<span class="dv">4</span>]][[<span class="st">"node1"</span>]] <span class="sc">==</span> <span class="st">"Energie   speichernd"</span>] <span class="ot">&lt;-</span> <span class="st">"Energie  speichernd"</span></span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true" tabindex="-1"></a>CAMaggregated[[<span class="dv">4</span>]][[<span class="st">"node2"</span>]][CAMaggregated[[<span class="dv">4</span>]][[<span class="st">"node2"</span>]] <span class="sc">==</span> <span class="st">"Energie   speichernd"</span>] <span class="ot">&lt;-</span> <span class="st">"Energie  speichernd"</span></span>
<span id="cb40-11"><a href="#cb40-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-12"><a href="#cb40-12" aria-hidden="true" tabindex="-1"></a>CAMaggregated[[<span class="dv">4</span>]][[<span class="st">"node1"</span>]] <span class="ot">&lt;-</span> <span class="fu">match</span>(CAMaggregated[[<span class="dv">4</span>]][[<span class="st">"node1"</span>]], attributes_names)</span>
<span id="cb40-13"><a href="#cb40-13" aria-hidden="true" tabindex="-1"></a>CAMaggregated[[<span class="dv">4</span>]][[<span class="st">"node2"</span>]] <span class="ot">&lt;-</span> <span class="fu">match</span>(CAMaggregated[[<span class="dv">4</span>]][[<span class="st">"node2"</span>]], attributes_names)</span>
<span id="cb40-14"><a href="#cb40-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-15"><a href="#cb40-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-16"><a href="#cb40-16" aria-hidden="true" tabindex="-1"></a><span class="co"># recode layers (CAM IDs) to integers</span></span>
<span id="cb40-17"><a href="#cb40-17" aria-hidden="true" tabindex="-1"></a>layer_names <span class="ot">&lt;-</span> <span class="fu">unique</span>(CAMfiles[[<span class="dv">1</span>]]<span class="sc">$</span>participantCAM)</span>
<span id="cb40-18"><a href="#cb40-18" aria-hidden="true" tabindex="-1"></a>CAMaggregated[[<span class="dv">4</span>]][[<span class="st">"layer"</span>]] <span class="ot">&lt;-</span> <span class="fu">match</span>(CAMaggregated[[<span class="dv">4</span>]][[<span class="st">"layer"</span>]], layer_names)</span>
<span id="cb40-19"><a href="#cb40-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-20"><a href="#cb40-20" aria-hidden="true" tabindex="-1"></a><span class="co"># now we're ready for community extraction using the MultiLayer extraction package</span></span>
<span id="cb40-21"><a href="#cb40-21" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">12345</span>)</span>
<span id="cb40-22"><a href="#cb40-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-23"><a href="#cb40-23" aria-hidden="true" tabindex="-1"></a><span class="co"># uncomment to run the algorithm (took around 3 hours on our machine)</span></span>
<span id="cb40-24"><a href="#cb40-24" aria-hidden="true" tabindex="-1"></a><span class="co"># start_time &lt;- Sys.time()</span></span>
<span id="cb40-25"><a href="#cb40-25" aria-hidden="true" tabindex="-1"></a><span class="co"># multilayer_extraction_results &lt;- multilayer.extraction(adjacency = CAMaggregated[[4]], seed = 12345, min.score = 0, prop.sample = .10)</span></span>
<span id="cb40-26"><a href="#cb40-26" aria-hidden="true" tabindex="-1"></a><span class="co"># end_time &lt;- Sys.time()</span></span>
<span id="cb40-27"><a href="#cb40-27" aria-hidden="true" tabindex="-1"></a><span class="co"># end_time - start_time</span></span>
<span id="cb40-28"><a href="#cb40-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-29"><a href="#cb40-29" aria-hidden="true" tabindex="-1"></a><span class="co"># saveRDS(multilayer_extraction_results, file = "multilayer_extraction_results.Rda")</span></span>
<span id="cb40-30"><a href="#cb40-30" aria-hidden="true" tabindex="-1"></a>multilayer_extraction_results <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="at">file =</span> <span class="st">"multilayer_extraction_results.Rda"</span>)</span>
<span id="cb40-31"><a href="#cb40-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-32"><a href="#cb40-32" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(multilayer_extraction_results, <span class="at">main =</span> <span class="st">"Diagnostic Plot"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="02_analyses_CAMs_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co"># look at the first ... 20 communities</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>multilayer_extraction_communities <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">n_communities =</span> <span class="fu">seq</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>))</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>multilayer_extraction_communities[<span class="fu">paste0</span>(<span class="st">"community"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>)] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>) {</span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>  object <span class="ot">&lt;-</span> <span class="fu">refine</span>(multilayer_extraction_results, <span class="at">k =</span> i, <span class="at">m =</span> <span class="fu">length</span>(CAMdrawn), <span class="at">n =</span> <span class="fu">nrow</span>(CAMwordlist))</span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span>(j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>i) {</span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a>    multilayer_extraction_communities[i,j<span class="sc">+</span><span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="fu">paste</span>(attributes_names[<span class="fu">which</span>(object<span class="sc">$</span>Vertices[,j] <span class="sc">==</span> <span class="dv">1</span>)], <span class="at">collapse =</span> <span class="st">", "</span>)</span>
<span id="cb41-10"><a href="#cb41-10" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb41-11"><a href="#cb41-11" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb41-12"><a href="#cb41-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-13"><a href="#cb41-13" aria-hidden="true" tabindex="-1"></a>DT<span class="sc">::</span><span class="fu">datatable</span>(multilayer_extraction_communities, <span class="at">options =</span> <span class="fu">list</span>(<span class="at">pageLength =</span> <span class="dv">5</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-8d32cfd9db97395c4a5f" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-8d32cfd9db97395c4a5f">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20"],[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20],["bioinspiriert, elektronikfrei, Insekten ähnlich, lebensähnlich, nachhaltig, ökologisch, umweltfreundlich","bioinspiriert, elektronikfrei, Insekten ähnlich, lebensähnlich, nachhaltig, ökologisch, umweltfreundlich","bioinspiriert, elektronikfrei, Insekten ähnlich, lebensähnlich, nachhaltig, ökologisch, umweltfreundlich","bioinspiriert, elektronikfrei, Insekten ähnlich, lebensähnlich, nachhaltig, ökologisch, umweltfreundlich","bioinspiriert, elektronikfrei, Insekten ähnlich, lebensähnlich, nachhaltig, ökologisch, umweltfreundlich","bioinspiriert, elektronikfrei, Insekten ähnlich, lebensähnlich, nachhaltig, ökologisch, umweltfreundlich","bioinspiriert, elektronikfrei, Insekten ähnlich, lebensähnlich, nachhaltig, ökologisch, umweltfreundlich","bioinspiriert, elektronikfrei, Insekten ähnlich, lebensähnlich, nachhaltig, ökologisch, umweltfreundlich","bioinspiriert, elektronikfrei, Insekten ähnlich, lebensähnlich, nachhaltig, ökologisch, umweltfreundlich","bioinspiriert, elektronikfrei, Insekten ähnlich, lebensähnlich, nachhaltig, ökologisch, umweltfreundlich","bioinspiriert, elektronikfrei, Insekten ähnlich, lebensähnlich, nachhaltig, ökologisch, umweltfreundlich","bioinspiriert, elektronikfrei, Insekten ähnlich, lebensähnlich, nachhaltig, ökologisch, umweltfreundlich","bioinspiriert, elektronikfrei, Insekten ähnlich, lebensähnlich, nachhaltig, ökologisch, umweltfreundlich","bioinspiriert, elektronikfrei, Insekten ähnlich, lebensähnlich, nachhaltig, ökologisch, umweltfreundlich","bioinspiriert, elektronikfrei, Insekten ähnlich, lebensähnlich, nachhaltig, ökologisch, umweltfreundlich","bioinspiriert, elektronikfrei, Insekten ähnlich, lebensähnlich, nachhaltig, ökologisch, umweltfreundlich","bioinspiriert, elektronikfrei, Insekten ähnlich, lebensähnlich, nachhaltig, ökologisch, umweltfreundlich","bioinspiriert, elektronikfrei, Insekten ähnlich, lebensähnlich, nachhaltig, ökologisch, umweltfreundlich","bioinspiriert, elektronikfrei, Insekten ähnlich, lebensähnlich, nachhaltig, ökologisch, umweltfreundlich","bioinspiriert, elektronikfrei, Insekten ähnlich, lebensähnlich, nachhaltig, ökologisch, umweltfreundlich"],[null,"aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, passive Formänderung durch Umwelteinwirkung, passive Verhaltensänderung durch Umwelteinwirkung","aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, passive Formänderung durch Umwelteinwirkung, passive Verhaltensänderung durch Umwelteinwirkung","aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, passive Formänderung durch Umwelteinwirkung, passive Verhaltensänderung durch Umwelteinwirkung","aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, passive Formänderung durch Umwelteinwirkung, passive Verhaltensänderung durch Umwelteinwirkung","aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, passive Formänderung durch Umwelteinwirkung, passive Verhaltensänderung durch Umwelteinwirkung","aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, passive Formänderung durch Umwelteinwirkung, passive Verhaltensänderung durch Umwelteinwirkung","aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, passive Formänderung durch Umwelteinwirkung, passive Verhaltensänderung durch Umwelteinwirkung","aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, passive Formänderung durch Umwelteinwirkung, passive Verhaltensänderung durch Umwelteinwirkung","aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, passive Formänderung durch Umwelteinwirkung, passive Verhaltensänderung durch Umwelteinwirkung","aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, passive Formänderung durch Umwelteinwirkung, passive Verhaltensänderung durch Umwelteinwirkung","aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, passive Formänderung durch Umwelteinwirkung, passive Verhaltensänderung durch Umwelteinwirkung","aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, passive Formänderung durch Umwelteinwirkung, passive Verhaltensänderung durch Umwelteinwirkung","aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, passive Formänderung durch Umwelteinwirkung, passive Verhaltensänderung durch Umwelteinwirkung","aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, passive Formänderung durch Umwelteinwirkung, passive Verhaltensänderung durch Umwelteinwirkung","aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, passive Formänderung durch Umwelteinwirkung, passive Verhaltensänderung durch Umwelteinwirkung","aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, passive Formänderung durch Umwelteinwirkung, passive Verhaltensänderung durch Umwelteinwirkung","aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, passive Formänderung durch Umwelteinwirkung, passive Verhaltensänderung durch Umwelteinwirkung","aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, passive Formänderung durch Umwelteinwirkung, passive Verhaltensänderung durch Umwelteinwirkung","aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, passive Formänderung durch Umwelteinwirkung, passive Verhaltensänderung durch Umwelteinwirkung"],[null,null,"aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, autonom, elektronikfrei, Energie  generierend, Energie  speichernd, energieautonom, energieeffizient, intelligent, multifunktional, passive Formänderung durch Umwelteinwirkung, passive Verhaltensänderung durch Umwelteinwirkung, reaktionsfähig, selbstheilend, selbstreparierend, technologisch, wartungsfrei, zuverlässig","aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, autonom, elektronikfrei, Energie  generierend, Energie  speichernd, energieautonom, energieeffizient, intelligent, multifunktional, passive Formänderung durch Umwelteinwirkung, passive Verhaltensänderung durch Umwelteinwirkung, reaktionsfähig, selbstheilend, selbstreparierend, technologisch, wartungsfrei, zuverlässig","aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, autonom, elektronikfrei, Energie  generierend, Energie  speichernd, energieautonom, energieeffizient, intelligent, multifunktional, passive Formänderung durch Umwelteinwirkung, passive Verhaltensänderung durch Umwelteinwirkung, reaktionsfähig, selbstheilend, selbstreparierend, technologisch, wartungsfrei, zuverlässig","aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, autonom, elektronikfrei, Energie  generierend, Energie  speichernd, energieautonom, energieeffizient, intelligent, multifunktional, passive Formänderung durch Umwelteinwirkung, passive Verhaltensänderung durch Umwelteinwirkung, reaktionsfähig, selbstheilend, selbstreparierend, technologisch, wartungsfrei, zuverlässig","aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, autonom, elektronikfrei, Energie  generierend, Energie  speichernd, energieautonom, energieeffizient, intelligent, multifunktional, passive Formänderung durch Umwelteinwirkung, passive Verhaltensänderung durch Umwelteinwirkung, reaktionsfähig, selbstheilend, selbstreparierend, technologisch, wartungsfrei, zuverlässig","aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, autonom, elektronikfrei, Energie  generierend, Energie  speichernd, energieautonom, energieeffizient, intelligent, multifunktional, passive Formänderung durch Umwelteinwirkung, passive Verhaltensänderung durch Umwelteinwirkung, reaktionsfähig, selbstheilend, selbstreparierend, technologisch, wartungsfrei, zuverlässig","aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, autonom, elektronikfrei, Energie  generierend, Energie  speichernd, energieautonom, energieeffizient, intelligent, multifunktional, passive Formänderung durch Umwelteinwirkung, passive Verhaltensänderung durch Umwelteinwirkung, reaktionsfähig, selbstheilend, selbstreparierend, technologisch, wartungsfrei, zuverlässig","aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, autonom, elektronikfrei, Energie  generierend, Energie  speichernd, energieautonom, energieeffizient, intelligent, multifunktional, passive Formänderung durch Umwelteinwirkung, passive Verhaltensänderung durch Umwelteinwirkung, reaktionsfähig, selbstheilend, selbstreparierend, technologisch, wartungsfrei, zuverlässig","aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, autonom, elektronikfrei, Energie  generierend, Energie  speichernd, energieautonom, energieeffizient, intelligent, multifunktional, passive Formänderung durch Umwelteinwirkung, passive Verhaltensänderung durch Umwelteinwirkung, reaktionsfähig, selbstheilend, selbstreparierend, technologisch, wartungsfrei, zuverlässig","aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, autonom, elektronikfrei, Energie  generierend, Energie  speichernd, energieautonom, energieeffizient, intelligent, multifunktional, passive Formänderung durch Umwelteinwirkung, passive Verhaltensänderung durch Umwelteinwirkung, reaktionsfähig, selbstheilend, selbstreparierend, technologisch, wartungsfrei, zuverlässig","aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, autonom, elektronikfrei, Energie  generierend, Energie  speichernd, energieautonom, energieeffizient, intelligent, multifunktional, passive Formänderung durch Umwelteinwirkung, passive Verhaltensänderung durch Umwelteinwirkung, reaktionsfähig, selbstheilend, selbstreparierend, technologisch, wartungsfrei, zuverlässig","aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, autonom, elektronikfrei, Energie  generierend, Energie  speichernd, energieautonom, energieeffizient, intelligent, multifunktional, passive Formänderung durch Umwelteinwirkung, passive Verhaltensänderung durch Umwelteinwirkung, reaktionsfähig, selbstheilend, selbstreparierend, technologisch, wartungsfrei, zuverlässig","aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, autonom, elektronikfrei, Energie  generierend, Energie  speichernd, energieautonom, energieeffizient, intelligent, multifunktional, passive Formänderung durch Umwelteinwirkung, passive Verhaltensänderung durch Umwelteinwirkung, reaktionsfähig, selbstheilend, selbstreparierend, technologisch, wartungsfrei, zuverlässig","aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, autonom, elektronikfrei, Energie  generierend, Energie  speichernd, energieautonom, energieeffizient, intelligent, multifunktional, passive Formänderung durch Umwelteinwirkung, passive Verhaltensänderung durch Umwelteinwirkung, reaktionsfähig, selbstheilend, selbstreparierend, technologisch, wartungsfrei, zuverlässig","aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, autonom, elektronikfrei, Energie  generierend, Energie  speichernd, energieautonom, energieeffizient, intelligent, multifunktional, passive Formänderung durch Umwelteinwirkung, passive Verhaltensänderung durch Umwelteinwirkung, reaktionsfähig, selbstheilend, selbstreparierend, technologisch, wartungsfrei, zuverlässig","aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, autonom, elektronikfrei, Energie  generierend, Energie  speichernd, energieautonom, energieeffizient, intelligent, multifunktional, passive Formänderung durch Umwelteinwirkung, passive Verhaltensänderung durch Umwelteinwirkung, reaktionsfähig, selbstheilend, selbstreparierend, technologisch, wartungsfrei, zuverlässig","aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, autonom, elektronikfrei, Energie  generierend, Energie  speichernd, energieautonom, energieeffizient, intelligent, multifunktional, passive Formänderung durch Umwelteinwirkung, passive Verhaltensänderung durch Umwelteinwirkung, reaktionsfähig, selbstheilend, selbstreparierend, technologisch, wartungsfrei, zuverlässig","aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, autonom, elektronikfrei, Energie  generierend, Energie  speichernd, energieautonom, energieeffizient, intelligent, multifunktional, passive Formänderung durch Umwelteinwirkung, passive Verhaltensänderung durch Umwelteinwirkung, reaktionsfähig, selbstheilend, selbstreparierend, technologisch, wartungsfrei, zuverlässig"],[null,null,null,"aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, autonom, intelligent, multifunktional, reaktionsfähig","aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, autonom, intelligent, multifunktional, reaktionsfähig","aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, autonom, intelligent, multifunktional, reaktionsfähig","aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, autonom, intelligent, multifunktional, reaktionsfähig","aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, autonom, intelligent, multifunktional, reaktionsfähig","aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, autonom, intelligent, multifunktional, reaktionsfähig","aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, autonom, intelligent, multifunktional, reaktionsfähig","aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, autonom, intelligent, multifunktional, reaktionsfähig","aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, autonom, intelligent, multifunktional, reaktionsfähig","aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, autonom, intelligent, multifunktional, reaktionsfähig","aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, autonom, intelligent, multifunktional, reaktionsfähig","aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, autonom, intelligent, multifunktional, reaktionsfähig","aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, autonom, intelligent, multifunktional, reaktionsfähig","aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, autonom, intelligent, multifunktional, reaktionsfähig","aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, autonom, intelligent, multifunktional, reaktionsfähig","aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, autonom, intelligent, multifunktional, reaktionsfähig","aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, autonom, intelligent, multifunktional, reaktionsfähig"],[null,null,null,null,"aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, haltbar, intelligent, langlebig, leicht zerstörbar, multifunktional, passive Formänderung durch Umwelteinwirkung, passive Verhaltensänderung durch Umwelteinwirkung, reaktionsfähig, robust, selbstheilend, selbstreparierend, wartungsfrei, wartungsintensiv, widerstandsfähig, zuverlässig","aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, haltbar, intelligent, langlebig, leicht zerstörbar, multifunktional, passive Formänderung durch Umwelteinwirkung, passive Verhaltensänderung durch Umwelteinwirkung, reaktionsfähig, robust, selbstheilend, selbstreparierend, wartungsfrei, wartungsintensiv, widerstandsfähig, zuverlässig","aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, haltbar, intelligent, langlebig, leicht zerstörbar, multifunktional, passive Formänderung durch Umwelteinwirkung, passive Verhaltensänderung durch Umwelteinwirkung, reaktionsfähig, robust, selbstheilend, selbstreparierend, wartungsfrei, wartungsintensiv, widerstandsfähig, zuverlässig","aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, haltbar, intelligent, langlebig, leicht zerstörbar, multifunktional, passive Formänderung durch Umwelteinwirkung, passive Verhaltensänderung durch Umwelteinwirkung, reaktionsfähig, robust, selbstheilend, selbstreparierend, wartungsfrei, wartungsintensiv, widerstandsfähig, zuverlässig","aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, haltbar, intelligent, langlebig, leicht zerstörbar, multifunktional, passive Formänderung durch Umwelteinwirkung, passive Verhaltensänderung durch Umwelteinwirkung, reaktionsfähig, robust, selbstheilend, selbstreparierend, wartungsfrei, wartungsintensiv, widerstandsfähig, zuverlässig","aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, haltbar, intelligent, langlebig, leicht zerstörbar, multifunktional, passive Formänderung durch Umwelteinwirkung, passive Verhaltensänderung durch Umwelteinwirkung, reaktionsfähig, robust, selbstheilend, selbstreparierend, wartungsfrei, wartungsintensiv, widerstandsfähig, zuverlässig","aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, haltbar, intelligent, langlebig, leicht zerstörbar, multifunktional, passive Formänderung durch Umwelteinwirkung, passive Verhaltensänderung durch Umwelteinwirkung, reaktionsfähig, robust, selbstheilend, selbstreparierend, wartungsfrei, wartungsintensiv, widerstandsfähig, zuverlässig","aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, haltbar, intelligent, langlebig, leicht zerstörbar, multifunktional, passive Formänderung durch Umwelteinwirkung, passive Verhaltensänderung durch Umwelteinwirkung, reaktionsfähig, robust, selbstheilend, selbstreparierend, wartungsfrei, wartungsintensiv, widerstandsfähig, zuverlässig","aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, haltbar, intelligent, langlebig, leicht zerstörbar, multifunktional, passive Formänderung durch Umwelteinwirkung, passive Verhaltensänderung durch Umwelteinwirkung, reaktionsfähig, robust, selbstheilend, selbstreparierend, wartungsfrei, wartungsintensiv, widerstandsfähig, zuverlässig","aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, haltbar, intelligent, langlebig, leicht zerstörbar, multifunktional, passive Formänderung durch Umwelteinwirkung, passive Verhaltensänderung durch Umwelteinwirkung, reaktionsfähig, robust, selbstheilend, selbstreparierend, wartungsfrei, wartungsintensiv, widerstandsfähig, zuverlässig","aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, haltbar, intelligent, langlebig, leicht zerstörbar, multifunktional, passive Formänderung durch Umwelteinwirkung, passive Verhaltensänderung durch Umwelteinwirkung, reaktionsfähig, robust, selbstheilend, selbstreparierend, wartungsfrei, wartungsintensiv, widerstandsfähig, zuverlässig","aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, haltbar, intelligent, langlebig, leicht zerstörbar, multifunktional, passive Formänderung durch Umwelteinwirkung, passive Verhaltensänderung durch Umwelteinwirkung, reaktionsfähig, robust, selbstheilend, selbstreparierend, wartungsfrei, wartungsintensiv, widerstandsfähig, zuverlässig","aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, haltbar, intelligent, langlebig, leicht zerstörbar, multifunktional, passive Formänderung durch Umwelteinwirkung, passive Verhaltensänderung durch Umwelteinwirkung, reaktionsfähig, robust, selbstheilend, selbstreparierend, wartungsfrei, wartungsintensiv, widerstandsfähig, zuverlässig","aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, haltbar, intelligent, langlebig, leicht zerstörbar, multifunktional, passive Formänderung durch Umwelteinwirkung, passive Verhaltensänderung durch Umwelteinwirkung, reaktionsfähig, robust, selbstheilend, selbstreparierend, wartungsfrei, wartungsintensiv, widerstandsfähig, zuverlässig","aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, haltbar, intelligent, langlebig, leicht zerstörbar, multifunktional, passive Formänderung durch Umwelteinwirkung, passive Verhaltensänderung durch Umwelteinwirkung, reaktionsfähig, robust, selbstheilend, selbstreparierend, wartungsfrei, wartungsintensiv, widerstandsfähig, zuverlässig","aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, haltbar, intelligent, langlebig, leicht zerstörbar, multifunktional, passive Formänderung durch Umwelteinwirkung, passive Verhaltensänderung durch Umwelteinwirkung, reaktionsfähig, robust, selbstheilend, selbstreparierend, wartungsfrei, wartungsintensiv, widerstandsfähig, zuverlässig"],[null,null,null,null,null,"aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, autonom, bioinspiriert, Energie  generierend, Energie  speichernd, energieautonom, energieeffizient, leicht zerstörbar, nachhaltig, ökologisch, reaktionsfähig, umweltfreundlich","aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, autonom, bioinspiriert, Energie  generierend, Energie  speichernd, energieautonom, energieeffizient, leicht zerstörbar, nachhaltig, ökologisch, reaktionsfähig, umweltfreundlich","aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, autonom, bioinspiriert, Energie  generierend, Energie  speichernd, energieautonom, energieeffizient, leicht zerstörbar, nachhaltig, ökologisch, reaktionsfähig, umweltfreundlich","aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, autonom, bioinspiriert, Energie  generierend, Energie  speichernd, energieautonom, energieeffizient, leicht zerstörbar, nachhaltig, ökologisch, reaktionsfähig, umweltfreundlich","aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, autonom, bioinspiriert, Energie  generierend, Energie  speichernd, energieautonom, energieeffizient, leicht zerstörbar, nachhaltig, ökologisch, reaktionsfähig, umweltfreundlich","aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, autonom, bioinspiriert, Energie  generierend, Energie  speichernd, energieautonom, energieeffizient, leicht zerstörbar, nachhaltig, ökologisch, reaktionsfähig, umweltfreundlich","aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, autonom, bioinspiriert, Energie  generierend, Energie  speichernd, energieautonom, energieeffizient, leicht zerstörbar, nachhaltig, ökologisch, reaktionsfähig, umweltfreundlich","aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, autonom, bioinspiriert, Energie  generierend, Energie  speichernd, energieautonom, energieeffizient, leicht zerstörbar, nachhaltig, ökologisch, reaktionsfähig, umweltfreundlich","aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, autonom, bioinspiriert, Energie  generierend, Energie  speichernd, energieautonom, energieeffizient, leicht zerstörbar, nachhaltig, ökologisch, reaktionsfähig, umweltfreundlich","aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, autonom, bioinspiriert, Energie  generierend, Energie  speichernd, energieautonom, energieeffizient, leicht zerstörbar, nachhaltig, ökologisch, reaktionsfähig, umweltfreundlich","aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, autonom, bioinspiriert, Energie  generierend, Energie  speichernd, energieautonom, energieeffizient, leicht zerstörbar, nachhaltig, ökologisch, reaktionsfähig, umweltfreundlich","aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, autonom, bioinspiriert, Energie  generierend, Energie  speichernd, energieautonom, energieeffizient, leicht zerstörbar, nachhaltig, ökologisch, reaktionsfähig, umweltfreundlich","aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, autonom, bioinspiriert, Energie  generierend, Energie  speichernd, energieautonom, energieeffizient, leicht zerstörbar, nachhaltig, ökologisch, reaktionsfähig, umweltfreundlich","aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, autonom, bioinspiriert, Energie  generierend, Energie  speichernd, energieautonom, energieeffizient, leicht zerstörbar, nachhaltig, ökologisch, reaktionsfähig, umweltfreundlich","aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, autonom, bioinspiriert, Energie  generierend, Energie  speichernd, energieautonom, energieeffizient, leicht zerstörbar, nachhaltig, ökologisch, reaktionsfähig, umweltfreundlich"],[null,null,null,null,null,null,"Akzeptanz eines neuen Materialsystems, Energie  generierend, Energie  speichernd, energieautonom, technologisch, umweltschädlich, wartungsfrei, wartungsintensiv","Akzeptanz eines neuen Materialsystems, Energie  generierend, Energie  speichernd, energieautonom, technologisch, umweltschädlich, wartungsfrei, wartungsintensiv","Akzeptanz eines neuen Materialsystems, Energie  generierend, Energie  speichernd, energieautonom, technologisch, umweltschädlich, wartungsfrei, wartungsintensiv","Akzeptanz eines neuen Materialsystems, Energie  generierend, Energie  speichernd, energieautonom, technologisch, umweltschädlich, wartungsfrei, wartungsintensiv","Akzeptanz eines neuen Materialsystems, Energie  generierend, Energie  speichernd, energieautonom, technologisch, umweltschädlich, wartungsfrei, wartungsintensiv","Akzeptanz eines neuen Materialsystems, Energie  generierend, Energie  speichernd, energieautonom, technologisch, umweltschädlich, wartungsfrei, wartungsintensiv","Akzeptanz eines neuen Materialsystems, Energie  generierend, Energie  speichernd, energieautonom, technologisch, umweltschädlich, wartungsfrei, wartungsintensiv","Akzeptanz eines neuen Materialsystems, Energie  generierend, Energie  speichernd, energieautonom, technologisch, umweltschädlich, wartungsfrei, wartungsintensiv","Akzeptanz eines neuen Materialsystems, Energie  generierend, Energie  speichernd, energieautonom, technologisch, umweltschädlich, wartungsfrei, wartungsintensiv","Akzeptanz eines neuen Materialsystems, Energie  generierend, Energie  speichernd, energieautonom, technologisch, umweltschädlich, wartungsfrei, wartungsintensiv","Akzeptanz eines neuen Materialsystems, Energie  generierend, Energie  speichernd, energieautonom, technologisch, umweltschädlich, wartungsfrei, wartungsintensiv","Akzeptanz eines neuen Materialsystems, Energie  generierend, Energie  speichernd, energieautonom, technologisch, umweltschädlich, wartungsfrei, wartungsintensiv","Akzeptanz eines neuen Materialsystems, Energie  generierend, Energie  speichernd, energieautonom, technologisch, umweltschädlich, wartungsfrei, wartungsintensiv","Akzeptanz eines neuen Materialsystems, Energie  generierend, Energie  speichernd, energieautonom, technologisch, umweltschädlich, wartungsfrei, wartungsintensiv"],[null,null,null,null,null,null,null,"Akzeptanz eines neuen Materialsystems, autonom, energieeffizient, enthält Kunststoff, intelligent, nachhaltig, technologisch, umweltfreundlich, umweltschädlich","Akzeptanz eines neuen Materialsystems, autonom, energieeffizient, enthält Kunststoff, intelligent, nachhaltig, technologisch, umweltfreundlich, umweltschädlich","Akzeptanz eines neuen Materialsystems, autonom, energieeffizient, enthält Kunststoff, intelligent, nachhaltig, technologisch, umweltfreundlich, umweltschädlich","Akzeptanz eines neuen Materialsystems, autonom, energieeffizient, enthält Kunststoff, intelligent, nachhaltig, technologisch, umweltfreundlich, umweltschädlich","Akzeptanz eines neuen Materialsystems, autonom, energieeffizient, enthält Kunststoff, intelligent, nachhaltig, technologisch, umweltfreundlich, umweltschädlich","Akzeptanz eines neuen Materialsystems, autonom, energieeffizient, enthält Kunststoff, intelligent, nachhaltig, technologisch, umweltfreundlich, umweltschädlich","Akzeptanz eines neuen Materialsystems, autonom, energieeffizient, enthält Kunststoff, intelligent, nachhaltig, technologisch, umweltfreundlich, umweltschädlich","Akzeptanz eines neuen Materialsystems, autonom, energieeffizient, enthält Kunststoff, intelligent, nachhaltig, technologisch, umweltfreundlich, umweltschädlich","Akzeptanz eines neuen Materialsystems, autonom, energieeffizient, enthält Kunststoff, intelligent, nachhaltig, technologisch, umweltfreundlich, umweltschädlich","Akzeptanz eines neuen Materialsystems, autonom, energieeffizient, enthält Kunststoff, intelligent, nachhaltig, technologisch, umweltfreundlich, umweltschädlich","Akzeptanz eines neuen Materialsystems, autonom, energieeffizient, enthält Kunststoff, intelligent, nachhaltig, technologisch, umweltfreundlich, umweltschädlich","Akzeptanz eines neuen Materialsystems, autonom, energieeffizient, enthält Kunststoff, intelligent, nachhaltig, technologisch, umweltfreundlich, umweltschädlich","Akzeptanz eines neuen Materialsystems, autonom, energieeffizient, enthält Kunststoff, intelligent, nachhaltig, technologisch, umweltfreundlich, umweltschädlich"],[null,null,null,null,null,null,null,null,"Akzeptanz eines neuen Materialsystems, elektronikfrei, Energie  generierend, Energie  speichernd, energieautonom, energieeffizient, nachhaltig, ökologisch, umweltfreundlich, umweltschädlich","Akzeptanz eines neuen Materialsystems, elektronikfrei, Energie  generierend, Energie  speichernd, energieautonom, energieeffizient, nachhaltig, ökologisch, umweltfreundlich, umweltschädlich","Akzeptanz eines neuen Materialsystems, elektronikfrei, Energie  generierend, Energie  speichernd, energieautonom, energieeffizient, nachhaltig, ökologisch, umweltfreundlich, umweltschädlich","Akzeptanz eines neuen Materialsystems, elektronikfrei, Energie  generierend, Energie  speichernd, energieautonom, energieeffizient, nachhaltig, ökologisch, umweltfreundlich, umweltschädlich","Akzeptanz eines neuen Materialsystems, elektronikfrei, Energie  generierend, Energie  speichernd, energieautonom, energieeffizient, nachhaltig, ökologisch, umweltfreundlich, umweltschädlich","Akzeptanz eines neuen Materialsystems, elektronikfrei, Energie  generierend, Energie  speichernd, energieautonom, energieeffizient, nachhaltig, ökologisch, umweltfreundlich, umweltschädlich","Akzeptanz eines neuen Materialsystems, elektronikfrei, Energie  generierend, Energie  speichernd, energieautonom, energieeffizient, nachhaltig, ökologisch, umweltfreundlich, umweltschädlich","Akzeptanz eines neuen Materialsystems, elektronikfrei, Energie  generierend, Energie  speichernd, energieautonom, energieeffizient, nachhaltig, ökologisch, umweltfreundlich, umweltschädlich","Akzeptanz eines neuen Materialsystems, elektronikfrei, Energie  generierend, Energie  speichernd, energieautonom, energieeffizient, nachhaltig, ökologisch, umweltfreundlich, umweltschädlich","Akzeptanz eines neuen Materialsystems, elektronikfrei, Energie  generierend, Energie  speichernd, energieautonom, energieeffizient, nachhaltig, ökologisch, umweltfreundlich, umweltschädlich","Akzeptanz eines neuen Materialsystems, elektronikfrei, Energie  generierend, Energie  speichernd, energieautonom, energieeffizient, nachhaltig, ökologisch, umweltfreundlich, umweltschädlich","Akzeptanz eines neuen Materialsystems, elektronikfrei, Energie  generierend, Energie  speichernd, energieautonom, energieeffizient, nachhaltig, ökologisch, umweltfreundlich, umweltschädlich"],[null,null,null,null,null,null,null,null,null,"Energie  speichernd, energieeffizient, haltbar, reaktionsfähig, robust, widerstandsfähig, zuverlässig","Energie  speichernd, energieeffizient, haltbar, reaktionsfähig, robust, widerstandsfähig, zuverlässig","Energie  speichernd, energieeffizient, haltbar, reaktionsfähig, robust, widerstandsfähig, zuverlässig","Energie  speichernd, energieeffizient, haltbar, reaktionsfähig, robust, widerstandsfähig, zuverlässig","Energie  speichernd, energieeffizient, haltbar, reaktionsfähig, robust, widerstandsfähig, zuverlässig","Energie  speichernd, energieeffizient, haltbar, reaktionsfähig, robust, widerstandsfähig, zuverlässig","Energie  speichernd, energieeffizient, haltbar, reaktionsfähig, robust, widerstandsfähig, zuverlässig","Energie  speichernd, energieeffizient, haltbar, reaktionsfähig, robust, widerstandsfähig, zuverlässig","Energie  speichernd, energieeffizient, haltbar, reaktionsfähig, robust, widerstandsfähig, zuverlässig","Energie  speichernd, energieeffizient, haltbar, reaktionsfähig, robust, widerstandsfähig, zuverlässig","Energie  speichernd, energieeffizient, haltbar, reaktionsfähig, robust, widerstandsfähig, zuverlässig"],[null,null,null,null,null,null,null,null,null,null,"Akzeptanz eines neuen Materialsystems, autonom, intelligent, selbstheilend, selbstreparierend, zuverlässig","Akzeptanz eines neuen Materialsystems, autonom, intelligent, selbstheilend, selbstreparierend, zuverlässig","Akzeptanz eines neuen Materialsystems, autonom, intelligent, selbstheilend, selbstreparierend, zuverlässig","Akzeptanz eines neuen Materialsystems, autonom, intelligent, selbstheilend, selbstreparierend, zuverlässig","Akzeptanz eines neuen Materialsystems, autonom, intelligent, selbstheilend, selbstreparierend, zuverlässig","Akzeptanz eines neuen Materialsystems, autonom, intelligent, selbstheilend, selbstreparierend, zuverlässig","Akzeptanz eines neuen Materialsystems, autonom, intelligent, selbstheilend, selbstreparierend, zuverlässig","Akzeptanz eines neuen Materialsystems, autonom, intelligent, selbstheilend, selbstreparierend, zuverlässig","Akzeptanz eines neuen Materialsystems, autonom, intelligent, selbstheilend, selbstreparierend, zuverlässig","Akzeptanz eines neuen Materialsystems, autonom, intelligent, selbstheilend, selbstreparierend, zuverlässig"],[null,null,null,null,null,null,null,null,null,null,null,"aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, autonom, energieautonom, intelligent, multifunktional, robust, selbstheilend, selbstreparierend, wartungsfrei, zuverlässig","aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, autonom, energieautonom, intelligent, multifunktional, robust, selbstheilend, selbstreparierend, wartungsfrei, zuverlässig","aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, autonom, energieautonom, intelligent, multifunktional, robust, selbstheilend, selbstreparierend, wartungsfrei, zuverlässig","aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, autonom, energieautonom, intelligent, multifunktional, robust, selbstheilend, selbstreparierend, wartungsfrei, zuverlässig","aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, autonom, energieautonom, intelligent, multifunktional, robust, selbstheilend, selbstreparierend, wartungsfrei, zuverlässig","aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, autonom, energieautonom, intelligent, multifunktional, robust, selbstheilend, selbstreparierend, wartungsfrei, zuverlässig","aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, autonom, energieautonom, intelligent, multifunktional, robust, selbstheilend, selbstreparierend, wartungsfrei, zuverlässig","aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, autonom, energieautonom, intelligent, multifunktional, robust, selbstheilend, selbstreparierend, wartungsfrei, zuverlässig","aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, autonom, energieautonom, intelligent, multifunktional, robust, selbstheilend, selbstreparierend, wartungsfrei, zuverlässig"],[null,null,null,null,null,null,null,null,null,null,null,null,"aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, autonom, intelligent, multifunktional, passive Formänderung durch Umwelteinwirkung, reaktionsfähig, technologisch","aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, autonom, intelligent, multifunktional, passive Formänderung durch Umwelteinwirkung, reaktionsfähig, technologisch","aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, autonom, intelligent, multifunktional, passive Formänderung durch Umwelteinwirkung, reaktionsfähig, technologisch","aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, autonom, intelligent, multifunktional, passive Formänderung durch Umwelteinwirkung, reaktionsfähig, technologisch","aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, autonom, intelligent, multifunktional, passive Formänderung durch Umwelteinwirkung, reaktionsfähig, technologisch","aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, autonom, intelligent, multifunktional, passive Formänderung durch Umwelteinwirkung, reaktionsfähig, technologisch","aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, autonom, intelligent, multifunktional, passive Formänderung durch Umwelteinwirkung, reaktionsfähig, technologisch","aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, Akzeptanz eines neuen Materialsystems, autonom, intelligent, multifunktional, passive Formänderung durch Umwelteinwirkung, reaktionsfähig, technologisch"],[null,null,null,null,null,null,null,null,null,null,null,null,null,"Akzeptanz eines neuen Materialsystems, bioinspiriert, elektronikfrei, Energie  speichernd, energieeffizient, enthält Kunststoff, haltbar, Insekten ähnlich, langlebig, lebensähnlich, leicht zerstörbar, multifunktional, nachhaltig, ökologisch, robust, technologisch, umweltfreundlich, umweltschädlich, wartungsfrei, wartungsintensiv, widerstandsfähig, zuverlässig","Akzeptanz eines neuen Materialsystems, bioinspiriert, elektronikfrei, Energie  speichernd, energieeffizient, enthält Kunststoff, haltbar, Insekten ähnlich, langlebig, lebensähnlich, leicht zerstörbar, multifunktional, nachhaltig, ökologisch, robust, technologisch, umweltfreundlich, umweltschädlich, wartungsfrei, wartungsintensiv, widerstandsfähig, zuverlässig","Akzeptanz eines neuen Materialsystems, bioinspiriert, elektronikfrei, Energie  speichernd, energieeffizient, enthält Kunststoff, haltbar, Insekten ähnlich, langlebig, lebensähnlich, leicht zerstörbar, multifunktional, nachhaltig, ökologisch, robust, technologisch, umweltfreundlich, umweltschädlich, wartungsfrei, wartungsintensiv, widerstandsfähig, zuverlässig","Akzeptanz eines neuen Materialsystems, bioinspiriert, elektronikfrei, Energie  speichernd, energieeffizient, enthält Kunststoff, haltbar, Insekten ähnlich, langlebig, lebensähnlich, leicht zerstörbar, multifunktional, nachhaltig, ökologisch, robust, technologisch, umweltfreundlich, umweltschädlich, wartungsfrei, wartungsintensiv, widerstandsfähig, zuverlässig","Akzeptanz eines neuen Materialsystems, bioinspiriert, elektronikfrei, Energie  speichernd, energieeffizient, enthält Kunststoff, haltbar, Insekten ähnlich, langlebig, lebensähnlich, leicht zerstörbar, multifunktional, nachhaltig, ökologisch, robust, technologisch, umweltfreundlich, umweltschädlich, wartungsfrei, wartungsintensiv, widerstandsfähig, zuverlässig","Akzeptanz eines neuen Materialsystems, bioinspiriert, elektronikfrei, Energie  speichernd, energieeffizient, enthält Kunststoff, haltbar, Insekten ähnlich, langlebig, lebensähnlich, leicht zerstörbar, multifunktional, nachhaltig, ökologisch, robust, technologisch, umweltfreundlich, umweltschädlich, wartungsfrei, wartungsintensiv, widerstandsfähig, zuverlässig","Akzeptanz eines neuen Materialsystems, bioinspiriert, elektronikfrei, Energie  speichernd, energieeffizient, enthält Kunststoff, haltbar, Insekten ähnlich, langlebig, lebensähnlich, leicht zerstörbar, multifunktional, nachhaltig, ökologisch, robust, technologisch, umweltfreundlich, umweltschädlich, wartungsfrei, wartungsintensiv, widerstandsfähig, zuverlässig"],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,"aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, passive Formänderung durch Umwelteinwirkung, passive Verhaltensänderung durch Umwelteinwirkung, reaktionsfähig, selbstheilend, selbstreparierend","aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, passive Formänderung durch Umwelteinwirkung, passive Verhaltensänderung durch Umwelteinwirkung, reaktionsfähig, selbstheilend, selbstreparierend","aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, passive Formänderung durch Umwelteinwirkung, passive Verhaltensänderung durch Umwelteinwirkung, reaktionsfähig, selbstheilend, selbstreparierend","aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, passive Formänderung durch Umwelteinwirkung, passive Verhaltensänderung durch Umwelteinwirkung, reaktionsfähig, selbstheilend, selbstreparierend","aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, passive Formänderung durch Umwelteinwirkung, passive Verhaltensänderung durch Umwelteinwirkung, reaktionsfähig, selbstheilend, selbstreparierend","aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, passive Formänderung durch Umwelteinwirkung, passive Verhaltensänderung durch Umwelteinwirkung, reaktionsfähig, selbstheilend, selbstreparierend"],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"Akzeptanz eines neuen Materialsystems, autonom, bioinspiriert, Energie  generierend, Energie  speichernd, energieautonom, energieeffizient, enthält Kunststoff, haltbar, Insekten ähnlich, intelligent, langlebig, lebensähnlich, multifunktional, nachhaltig, ökologisch, robust, selbstheilend, selbstreparierend, technologisch, umweltfreundlich, umweltschädlich, wartungsfrei, wartungsintensiv, widerstandsfähig, zuverlässig","Akzeptanz eines neuen Materialsystems, autonom, bioinspiriert, Energie  generierend, Energie  speichernd, energieautonom, energieeffizient, enthält Kunststoff, haltbar, Insekten ähnlich, intelligent, langlebig, lebensähnlich, multifunktional, nachhaltig, ökologisch, robust, selbstheilend, selbstreparierend, technologisch, umweltfreundlich, umweltschädlich, wartungsfrei, wartungsintensiv, widerstandsfähig, zuverlässig","Akzeptanz eines neuen Materialsystems, autonom, bioinspiriert, Energie  generierend, Energie  speichernd, energieautonom, energieeffizient, enthält Kunststoff, haltbar, Insekten ähnlich, intelligent, langlebig, lebensähnlich, multifunktional, nachhaltig, ökologisch, robust, selbstheilend, selbstreparierend, technologisch, umweltfreundlich, umweltschädlich, wartungsfrei, wartungsintensiv, widerstandsfähig, zuverlässig","Akzeptanz eines neuen Materialsystems, autonom, bioinspiriert, Energie  generierend, Energie  speichernd, energieautonom, energieeffizient, enthält Kunststoff, haltbar, Insekten ähnlich, intelligent, langlebig, lebensähnlich, multifunktional, nachhaltig, ökologisch, robust, selbstheilend, selbstreparierend, technologisch, umweltfreundlich, umweltschädlich, wartungsfrei, wartungsintensiv, widerstandsfähig, zuverlässig","Akzeptanz eines neuen Materialsystems, autonom, bioinspiriert, Energie  generierend, Energie  speichernd, energieautonom, energieeffizient, enthält Kunststoff, haltbar, Insekten ähnlich, intelligent, langlebig, lebensähnlich, multifunktional, nachhaltig, ökologisch, robust, selbstheilend, selbstreparierend, technologisch, umweltfreundlich, umweltschädlich, wartungsfrei, wartungsintensiv, widerstandsfähig, zuverlässig"],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, passive Formänderung durch Umwelteinwirkung, passive Verhaltensänderung durch Umwelteinwirkung, reaktionsfähig, selbstheilend, selbstreparierend, wartungsfrei, wartungsintensiv","aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, passive Formänderung durch Umwelteinwirkung, passive Verhaltensänderung durch Umwelteinwirkung, reaktionsfähig, selbstheilend, selbstreparierend, wartungsfrei, wartungsintensiv","aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, passive Formänderung durch Umwelteinwirkung, passive Verhaltensänderung durch Umwelteinwirkung, reaktionsfähig, selbstheilend, selbstreparierend, wartungsfrei, wartungsintensiv","aktive Formänderung durch Umwelteinwirkung, aktive Verhaltensänderung durch Umwelteinwirkung, passive Formänderung durch Umwelteinwirkung, passive Verhaltensänderung durch Umwelteinwirkung, reaktionsfähig, selbstheilend, selbstreparierend, wartungsfrei, wartungsintensiv"],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"Akzeptanz eines neuen Materialsystems, autonom, intelligent, multifunktional, reaktionsfähig, technologisch","Akzeptanz eines neuen Materialsystems, autonom, intelligent, multifunktional, reaktionsfähig, technologisch","Akzeptanz eines neuen Materialsystems, autonom, intelligent, multifunktional, reaktionsfähig, technologisch"],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"Akzeptanz eines neuen Materialsystems, Energie  generierend, Energie  speichernd, energieautonom, energieeffizient, enthält Kunststoff, haltbar, langlebig, nachhaltig, ökologisch, robust, selbstheilend, umweltfreundlich, umweltschädlich, widerstandsfähig","Akzeptanz eines neuen Materialsystems, Energie  generierend, Energie  speichernd, energieautonom, energieeffizient, enthält Kunststoff, haltbar, langlebig, nachhaltig, ökologisch, robust, selbstheilend, umweltfreundlich, umweltschädlich, widerstandsfähig"],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"haltbar, langlebig, leicht zerstörbar, robust, selbstheilend, selbstreparierend, wartungsfrei, wartungsintensiv, widerstandsfähig, zuverlässig"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>n_communities<\/th>\n      <th>community1<\/th>\n      <th>community2<\/th>\n      <th>community3<\/th>\n      <th>community4<\/th>\n      <th>community5<\/th>\n      <th>community6<\/th>\n      <th>community7<\/th>\n      <th>community8<\/th>\n      <th>community9<\/th>\n      <th>community10<\/th>\n      <th>community11<\/th>\n      <th>community12<\/th>\n      <th>community13<\/th>\n      <th>community14<\/th>\n      <th>community15<\/th>\n      <th>community16<\/th>\n      <th>community17<\/th>\n      <th>community18<\/th>\n      <th>community19<\/th>\n      <th>community20<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"columnDefs":[{"className":"dt-right","targets":1},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"n_communities","targets":1},{"name":"community1","targets":2},{"name":"community2","targets":3},{"name":"community3","targets":4},{"name":"community4","targets":5},{"name":"community5","targets":6},{"name":"community6","targets":7},{"name":"community7","targets":8},{"name":"community8","targets":9},{"name":"community9","targets":10},{"name":"community10","targets":11},{"name":"community11","targets":12},{"name":"community12","targets":13},{"name":"community13","targets":14},{"name":"community14","targets":15},{"name":"community15","targets":16},{"name":"community16","targets":17},{"name":"community17","targets":18},{"name":"community18","targets":19},{"name":"community19","targets":20},{"name":"community20","targets":21}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[5,10,25,50,100]},"selection":{"mode":"multiple","selected":null,"target":"row","selectable":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
</section>
</section>
<section id="macro-level" class="level1" data-number="7">
<h1 data-number="7"><span class="header-section-number">7</span> Macro level</h1>
<ul>
<li>Macro-level analysis looks at the network as a whole, focusing on large-scale patterns and structures.</li>
</ul>
<section id="plot-aggregated-cam" class="level2" data-number="7.1">
<h2 data-number="7.1" class="anchored" data-anchor-id="plot-aggregated-cam"><span class="header-section-number">7.1</span> plot aggregated CAM</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>g <span class="ot">=</span> CAMaggregated[[<span class="dv">2</span>]]</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>g2 <span class="ot">=</span> <span class="fu">simplify</span>(CAMaggregated[[<span class="dv">2</span>]])</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a><span class="co"># plot(g2, edge.arrow.size=0.01,</span></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a><span class="co">#      vertex.size=diag(CAMaggregated[[1]]) / max(diag(CAMaggregated[[1]]))*20)</span></span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a><span class="fu">E</span>(g2)<span class="sc">$</span>weight <span class="ot">=</span> <span class="fu">sapply</span>(<span class="fu">E</span>(g2), <span class="cf">function</span>(e) {</span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">length</span>(<span class="fu">all_shortest_paths</span>(g, <span class="at">from=</span><span class="fu">ends</span>(g2, e)[<span class="dv">1</span>], <span class="at">to=</span><span class="fu">ends</span>(g2, e)[<span class="dv">2</span>])<span class="sc">$</span>res) } )</span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a><span class="fu">E</span>(g2)<span class="sc">$</span>weight <span class="ot">=</span> <span class="fu">E</span>(g2)<span class="sc">$</span>weight <span class="sc">*</span> <span class="dv">2</span></span>
<span id="cb42-9"><a href="#cb42-9" aria-hidden="true" tabindex="-1"></a><span class="co"># E(g2)$weight[E(g2)$weight == 1] &lt;- NA</span></span>
<span id="cb42-10"><a href="#cb42-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-11"><a href="#cb42-11" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(g2)<span class="sc">$</span>color[<span class="fu">V</span>(g2)<span class="sc">$</span>value <span class="sc">&lt;=</span> .<span class="dv">5</span> <span class="sc">&amp;</span> <span class="fu">V</span>(g2)<span class="sc">$</span>value <span class="sc">&gt;=</span> <span class="sc">-</span>.<span class="dv">5</span>] <span class="ot">&lt;-</span> <span class="st">"yellow"</span></span>
<span id="cb42-12"><a href="#cb42-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-13"><a href="#cb42-13" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(g2)<span class="sc">$</span>shape <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb42-14"><a href="#cb42-14" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(g2)<span class="sc">$</span>shape <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(<span class="at">test =</span> <span class="fu">V</span>(g2)<span class="sc">$</span>color <span class="sc">==</span> <span class="st">"yellow"</span>, <span class="at">yes =</span> <span class="st">"square"</span>, <span class="at">no =</span> <span class="st">"circle"</span>)</span>
<span id="cb42-15"><a href="#cb42-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-16"><a href="#cb42-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-17"><a href="#cb42-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-18"><a href="#cb42-18" aria-hidden="true" tabindex="-1"></a><span class="do">### &gt; plot multiple times because of random layout</span></span>
<span id="cb42-19"><a href="#cb42-19" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>){</span>
<span id="cb42-20"><a href="#cb42-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot</span>(g2, <span class="at">edge.arrow.size =</span> <span class="dv">0</span>,</span>
<span id="cb42-21"><a href="#cb42-21" aria-hidden="true" tabindex="-1"></a>     <span class="at">layout=</span>layout_nicely, <span class="at">vertex.frame.color=</span><span class="st">"black"</span>, <span class="at">asp =</span> .<span class="dv">5</span>, <span class="at">margin =</span> <span class="sc">-</span><span class="fl">0.1</span>,</span>
<span id="cb42-22"><a href="#cb42-22" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.size=</span><span class="fu">diag</span>(CAMaggregated[[<span class="dv">1</span>]]) <span class="sc">/</span> <span class="fu">max</span>(<span class="fu">diag</span>(CAMaggregated[[<span class="dv">1</span>]]))<span class="sc">*</span><span class="dv">5</span>,</span>
<span id="cb42-23"><a href="#cb42-23" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.label.cex =</span> .<span class="dv">9</span>,</span>
<span id="cb42-24"><a href="#cb42-24" aria-hidden="true" tabindex="-1"></a>     <span class="at">edge.weight=</span><span class="dv">2</span>, <span class="at">edge.width=</span>(<span class="fu">E</span>(g2)<span class="sc">$</span>weight<span class="sc">/</span><span class="dv">45</span>))</span>
<span id="cb42-25"><a href="#cb42-25" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="02_analyses_CAMs_files/figure-html/aggregate%20CAMs-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="02_analyses_CAMs_files/figure-html/aggregate%20CAMs-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="02_analyses_CAMs_files/figure-html/aggregate%20CAMs-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="hierachical-cluster-analysis" class="level2" data-number="7.2">
<h2 data-number="7.2" class="anchored" data-anchor-id="hierachical-cluster-analysis"><span class="header-section-number">7.2</span> hierachical cluster analysis</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>hc_dat <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">CAM =</span> <span class="fu">unique</span>(CAMfiles[[<span class="dv">1</span>]]<span class="sc">$</span>CAM), <span class="at">participantCAM =</span> <span class="fu">unique</span>(CAMfiles[[<span class="dv">1</span>]]<span class="sc">$</span>participantCAM))</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a><span class="do">### create data set</span></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a><span class="do">## word vars</span></span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(w <span class="cf">in</span> <span class="fu">unique</span>(CAMfiles[[<span class="dv">1</span>]]<span class="sc">$</span>text)){</span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>  varName_w <span class="ot">&lt;-</span> <span class="fu">str_remove_all</span>(<span class="at">string =</span> <span class="fu">str_to_title</span>(<span class="at">string =</span> w, <span class="at">locale =</span> <span class="st">"en"</span>), <span class="at">pattern =</span> <span class="st">" |</span><span class="sc">\\</span><span class="st">W+"</span>)</span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a>  hc_dat[[<span class="fu">paste0</span>(<span class="st">"N_"</span>, varName_w)]] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a>  hc_dat[[<span class="fu">paste0</span>(<span class="st">"mean_"</span>, varName_w)]] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a>  hc_dat[[<span class="fu">paste0</span>(<span class="st">"SD_"</span>, varName_w)]] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb43-11"><a href="#cb43-11" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb43-12"><a href="#cb43-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-13"><a href="#cb43-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-14"><a href="#cb43-14" aria-hidden="true" tabindex="-1"></a><span class="do">## get N, mean, sd of single summarized concepts</span></span>
<span id="cb43-15"><a href="#cb43-15" aria-hidden="true" tabindex="-1"></a>verbose <span class="ot">=</span> <span class="cn">FALSE</span></span>
<span id="cb43-16"><a href="#cb43-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-17"><a href="#cb43-17" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(c <span class="cf">in</span> <span class="fu">unique</span>(CAMfiles[[<span class="dv">1</span>]]<span class="sc">$</span>CAM)){</span>
<span id="cb43-18"><a href="#cb43-18" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(verbose){</span>
<span id="cb43-19"><a href="#cb43-19" aria-hidden="true" tabindex="-1"></a>      <span class="fu">cat</span>(<span class="st">"considered CAM: "</span>, c, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb43-20"><a href="#cb43-20" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb43-21"><a href="#cb43-21" aria-hidden="true" tabindex="-1"></a>  tmp_CAM_nodes <span class="ot">&lt;-</span> CAMfiles[[<span class="dv">1</span>]][CAMfiles[[<span class="dv">1</span>]]<span class="sc">$</span>CAM <span class="sc">==</span> c, ]</span>
<span id="cb43-22"><a href="#cb43-22" aria-hidden="true" tabindex="-1"></a>  tmp_CAM_nodes<span class="sc">$</span>value <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(<span class="at">test =</span> tmp_CAM_nodes<span class="sc">$</span>value <span class="sc">==</span> <span class="dv">10</span>, <span class="at">yes =</span> <span class="dv">0</span>, <span class="at">no =</span> tmp_CAM_nodes<span class="sc">$</span>value)</span>
<span id="cb43-23"><a href="#cb43-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-24"><a href="#cb43-24" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span>(w <span class="cf">in</span> <span class="fu">unique</span>(CAMfiles[[<span class="dv">1</span>]]<span class="sc">$</span>text)){</span>
<span id="cb43-25"><a href="#cb43-25" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span>(verbose){</span>
<span id="cb43-26"><a href="#cb43-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">cat</span>(<span class="st">"considered concept: "</span>, w, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb43-27"><a href="#cb43-27" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb43-28"><a href="#cb43-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-29"><a href="#cb43-29" aria-hidden="true" tabindex="-1"></a>    varName_w <span class="ot">&lt;-</span> <span class="fu">str_remove_all</span>(<span class="at">string =</span> <span class="fu">str_to_title</span>(<span class="at">string =</span> w, <span class="at">locale =</span> <span class="st">"en"</span>), <span class="at">pattern =</span> <span class="st">" |</span><span class="sc">\\</span><span class="st">W+"</span>)</span>
<span id="cb43-30"><a href="#cb43-30" aria-hidden="true" tabindex="-1"></a>          <span class="cf">if</span>(verbose){</span>
<span id="cb43-31"><a href="#cb43-31" aria-hidden="true" tabindex="-1"></a>    <span class="fu">cat</span>(<span class="st">"   &gt; the freqeuncy, mean, SD are saved with the prefix N_, mean_, SD_ plus</span></span>
<span id="cb43-32"><a href="#cb43-32" aria-hidden="true" tabindex="-1"></a><span class="st">      word without white spaces: "</span>, varName_w, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb43-33"><a href="#cb43-33" aria-hidden="true" tabindex="-1"></a>          }</span>
<span id="cb43-34"><a href="#cb43-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-35"><a href="#cb43-35" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(<span class="fu">sum</span>(tmp_CAM_nodes<span class="sc">$</span>text <span class="sc">==</span> w) <span class="sc">&gt;</span> <span class="dv">0</span>){</span>
<span id="cb43-36"><a href="#cb43-36" aria-hidden="true" tabindex="-1"></a>      tmp_CAM_nodes_w <span class="ot">&lt;-</span> tmp_CAM_nodes[tmp_CAM_nodes<span class="sc">$</span>text <span class="sc">==</span> w, ]</span>
<span id="cb43-37"><a href="#cb43-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-38"><a href="#cb43-38" aria-hidden="true" tabindex="-1"></a>      <span class="do">## add N</span></span>
<span id="cb43-39"><a href="#cb43-39" aria-hidden="true" tabindex="-1"></a>      hc_dat[hc_dat<span class="sc">$</span>CAM <span class="sc">==</span> c, <span class="fu">paste0</span>(<span class="st">"N_"</span>, varName_w)] <span class="ot">&lt;-</span> <span class="fu">nrow</span>(tmp_CAM_nodes_w)</span>
<span id="cb43-40"><a href="#cb43-40" aria-hidden="true" tabindex="-1"></a>      <span class="do">## add mean</span></span>
<span id="cb43-41"><a href="#cb43-41" aria-hidden="true" tabindex="-1"></a>      hc_dat[hc_dat<span class="sc">$</span>CAM <span class="sc">==</span> c, <span class="fu">paste0</span>(<span class="st">"mean_"</span>, varName_w)] <span class="ot">&lt;-</span> <span class="fu">mean</span>(<span class="at">x =</span> tmp_CAM_nodes_w<span class="sc">$</span>value)</span>
<span id="cb43-42"><a href="#cb43-42" aria-hidden="true" tabindex="-1"></a>      <span class="do">## add SD, only if &gt; 1</span></span>
<span id="cb43-43"><a href="#cb43-43" aria-hidden="true" tabindex="-1"></a>      hc_dat[hc_dat<span class="sc">$</span>CAM <span class="sc">==</span> c, <span class="fu">paste0</span>(<span class="st">"SD_"</span>, varName_w)] <span class="ot">&lt;-</span> <span class="fu">sd</span>(<span class="at">x =</span> tmp_CAM_nodes_w<span class="sc">$</span>value)</span>
<span id="cb43-44"><a href="#cb43-44" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb43-45"><a href="#cb43-45" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb43-46"><a href="#cb43-46" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span>(verbose){</span>
<span id="cb43-47"><a href="#cb43-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb43-48"><a href="#cb43-48" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb43-49"><a href="#cb43-49" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb43-50"><a href="#cb43-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-51"><a href="#cb43-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-52"><a href="#cb43-52" aria-hidden="true" tabindex="-1"></a><span class="do">### compute clustering</span></span>
<span id="cb43-53"><a href="#cb43-53" aria-hidden="true" tabindex="-1"></a>hc_df <span class="ot">&lt;-</span> hc_dat[, <span class="fu">str_subset</span>(<span class="at">string =</span> <span class="fu">colnames</span>(hc_dat), <span class="at">pattern =</span> <span class="st">"mean_"</span>)]</span>
<span id="cb43-54"><a href="#cb43-54" aria-hidden="true" tabindex="-1"></a>hc_df <span class="ot">&lt;-</span> hc_df[, <span class="fu">colSums</span>(<span class="at">x =</span> <span class="sc">!</span><span class="fu">is.na</span>(hc_df)) <span class="sc">&gt;=</span> <span class="dv">2</span>] <span class="co"># only considers concepts which where drawn at least 2 times</span></span>
<span id="cb43-55"><a href="#cb43-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-56"><a href="#cb43-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-57"><a href="#cb43-57" aria-hidden="true" tabindex="-1"></a>hc_df_scaled <span class="ot">&lt;-</span> <span class="fu">scale</span>(hc_df)</span>
<span id="cb43-58"><a href="#cb43-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-59"><a href="#cb43-59" aria-hidden="true" tabindex="-1"></a>dist.eucl <span class="ot">&lt;-</span> <span class="fu">dist</span>(hc_df_scaled, <span class="at">method =</span> <span class="st">"euclidean"</span>)</span>
<span id="cb43-60"><a href="#cb43-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-61"><a href="#cb43-61" aria-hidden="true" tabindex="-1"></a>hc_cluster <span class="ot">&lt;-</span> <span class="fu">hclust</span>(dist.eucl, <span class="at">method =</span> <span class="st">"ward.D2"</span>) <span class="co"># Ward's method</span></span>
<span id="cb43-62"><a href="#cb43-62" aria-hidden="true" tabindex="-1"></a>hc_cluster</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
hclust(d = dist.eucl, method = "ward.D2")

Cluster method   : ward.D2 
Distance         : euclidean 
Number of objects: 169 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>set_cutOff <span class="ot">&lt;-</span> <span class="dv">25</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(hc_cluster)</span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">h =</span> set_cutOff, <span class="at">col =</span> <span class="st">"red"</span>, <span class="at">lty =</span> <span class="dv">2</span>)</span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a><span class="fu">rect.hclust</span>(hc_cluster, <span class="at">h=</span>set_cutOff, <span class="at">border =</span> <span class="st">"tomato"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="02_analyses_CAMs_files/figure-html/hierachical%20cluster%20analysis-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>groups <span class="ot">&lt;-</span> <span class="fu">cutree</span>(hc_cluster, <span class="at">h=</span>set_cutOff)</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a><span class="co"># groupsOut &lt;- names(table(groups))[table(groups) &gt;= 2]</span></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(groups)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>groups
  1   2   3 
 40 106  23 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">aggregate</span>(hc_df, <span class="at">by=</span><span class="fu">list</span>(<span class="at">cluster=</span>groups), mean, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  cluster mean_AkzeptanzEinesNeuenMaterialsystems mean_EnergieSpeichernd
1       1                               0.2500000              2.0000000
2       2                               0.4339623              1.5094340
3       3                               0.1739130              0.5652174
  mean_Wartungsintensiv mean_AktiveFormänderungDurchUmwelteinwirkung
1            -1.9750000                                    0.9250000
2            -2.3018868                                   -0.1132075
3            -0.9565217                                    0.2173913
  mean_Energieeffizient mean_EnthältKunststoff mean_Ökologisch
1              2.575000             -1.1500000        2.300000
2              2.094340             -1.1226415        1.981132
3              1.130435             -0.4782609        0.826087
  mean_Reaktionsfähig mean_Elektronikfrei mean_Zuverlässig mean_Nachhaltig
1           1.3500000           0.9000000         2.650000        2.775000
2           0.4433962           0.3584906         2.245283        2.424528
3           0.5217391           0.1304348         1.000000        1.521739
  mean_PassiveFormänderungDurchUmwelteinwirkung mean_Wartungsfrei
1                                    0.62500000          2.350000
2                                   -0.28301887          1.679245
3                                    0.08695652          1.043478
  mean_Umweltfreundlich mean_Selbstheilend mean_Widerstandsfähig
1              2.825000          2.4750000             2.3500000
2              2.613208          1.5471698             1.7358491
3              1.347826          0.6956522             0.6956522
  mean_Energieautonom mean_InsektenÄhnlich mean_Selbstreparierend mean_Autonom
1           1.9500000           0.45000000              2.5000000    1.2500000
2           1.3679245          -0.33962264              1.7735849    0.6509434
3           0.7826087          -0.08695652              0.6086957    0.3478261
  mean_Bioinspiriert mean_PassiveVerhaltensänderungDurchUmwelteinwirkung
1          1.6000000                                           0.6500000
2          0.5377358                                          -0.2264151
3          0.4782609                                           0.3478261
  mean_LeichtZerstörbar mean_AktiveVerhaltensänderungDurchUmwelteinwirkung
1             -2.150000                                         0.95000000
2             -1.820755                                         0.01886792
3             -1.086957                                         0.26086957
  mean_Intelligent mean_Lebensähnlich mean_Haltbar mean_EnergieGenerierend
1        1.8750000         0.82500000    2.5500000                2.275000
2        1.2452830         0.18867925    1.9811321                1.622642
3        0.9130435         0.08695652    0.6086957                1.173913
  mean_Umweltschädlich mean_Robust mean_Langlebig mean_Multifunktional
1            -2.900000   2.2500000       2.800000             2.200000
2            -2.754717   1.8584906       2.198113             1.547170
3            -1.391304   0.9130435       1.304348             1.173913
  mean_Technologisch
1          0.9500000
2          0.7358491
3          0.5652174</code></pre>
</div>
</div>
</section>
<section id="latent-profile-analysis" class="level2" data-number="7.3">
<h2 data-number="7.3" class="anchored" data-anchor-id="latent-profile-analysis"><span class="header-section-number">7.3</span> Latent profile analysis</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(runLPA){</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>  valenceDataShort <span class="ot">&lt;-</span></span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>  valenceData <span class="sc">%&gt;%</span> <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> text,</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>                              <span class="at">values_from =</span> value,</span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>                              <span class="at">id_cols =</span> CAM) <span class="co"># equal to hc_df</span></span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a>lpa <span class="ot">&lt;-</span> valenceDataShort <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span>CAM) <span class="sc">%&gt;%</span></span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a> <span class="fu">estimate_profiles</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">9</span>, <span class="at">variances =</span> <span class="fu">c</span>(<span class="st">"equal"</span>, <span class="st">"equal"</span>, <span class="st">"varying"</span>),</span>
<span id="cb50-9"><a href="#cb50-9" aria-hidden="true" tabindex="-1"></a>                        <span class="at">covariances =</span> <span class="fu">c</span>(<span class="st">"zero"</span>, <span class="st">"equal"</span>, <span class="st">"zero"</span>))</span>
<span id="cb50-10"><a href="#cb50-10" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>